import{c as A,a as C,g as ae}from"./index-D5uhiMQB.js";import{j as a,r as s,t as ke,R as T,L as Se}from"./react-vendor-TyuC8qxg.js";import{B as R}from"./button-CrjcO5GY.js";import{S as ie}from"./skeleton-DgsA2FIA.js";import{A as Re}from"./arrow-left-B-jkszN4.js";import{B as le}from"./badge-bpxx3q91.js";import{A as Pe,h as Ee,a as Te,b as Ae,c as De,d as Le,e as Ie,f as $e,g as Ve}from"./alert-dialog-CNFa5Ywa.js";import{C as Fe,a as ze,b as He}from"./collapsible-FhUTsrjs.js";import{a9 as ge,aa as Ue}from"./ui-components-CAmpQbeX.js";import{S as qe}from"./star-sfp0mj0X.js";import{C as Be}from"./chevron-down-Bdv2PV_A.js";import{C as _e}from"./code-CWvNPmcu.js";import{C as We,a as Ze,b as Ke,d as Ye,c as Ge}from"./card-DAAmTFtc.js";import{T as Je,a as Qe,b as Xe,c as et}from"./tabs-CrlmdC9I.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d6f0fe97-2890-4bd2-8876-0211f7b115ca",e._sentryDebugIdIdentifier="sentry-dbid-d6f0fe97-2890-4bd2-8876-0211f7b115ca")}catch{}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=A("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=A("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=A("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=A("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=A("PlaneLanding",[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M3.77 10.77 2 9l2-4.5 1.1.55c.55.28.9.84.9 1.45s.35 1.17.9 1.45L8 8.5l3-6 1.05.53a2 2 0 0 1 1.09 1.52l.72 5.4a2 2 0 0 0 1.09 1.52l4.4 2.2c.42.22.78.55 1.01.96l.6 1.03c.49.88-.06 1.98-1.06 2.1l-1.18.15c-.47.06-.95-.02-1.37-.24L4.29 11.15a2 2 0 0 1-.52-.38Z",key:"1ma21e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=A("PlaneTakeoff",[["path",{d:"M2 22h20",key:"272qi7"}],["path",{d:"M6.36 17.4 4 17l-2-4 1.1-.55a2 2 0 0 1 1.8 0l.17.1a2 2 0 0 0 1.8 0L8 12 5 6l.9-.45a2 2 0 0 1 2.09.2l4.02 3a2 2 0 0 0 2.1.2l4.19-2.06a2.41 2.41 0 0 1 1.73-.17L21 7a1.4 1.4 0 0 1 .87 1.99l-.38.76c-.23.46-.6.84-1.07 1.08L7.58 17.2a2 2 0 0 1-1.22.18Z",key:"fkigj9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function Lr({isLoading:e,resource:t,resourceType:r,onGoBack:n,renderLoading:i,renderNotFound:o,renderResource:l}){const p=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(ie,{className:"h-10 w-3/4"}),a.jsx(ie,{className:"h-6 w-1/2"}),a.jsx(ie,{className:"h-40 w-full"})]}),g=()=>a.jsxs("div",{className:"text-center p-10",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-2",children:[r," Not Found"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["The ",r.toLowerCase()," you're looking for does not exist or has been removed."]}),a.jsxs(R,{onClick:n,children:["Return to ",r,"s"]})]});return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs(R,{variant:"ghost",onClick:n,children:[a.jsx(Re,{className:"mr-2 h-4 w-4"})," Back to ",r,"s"]}),e?i?i():p():t?l():o?o():g()]})}const ve=s.forwardRef(({className:e,icon:t,...r},n)=>a.jsx(ge,{className:C("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:n,children:a.jsxs(Ue,{className:C("relative pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"),children:[t&&a.jsx(t,{className:"absolute inset-0 m-auto h-3 w-3 text-muted-foreground"})," "]})}));ve.displayName=ge.displayName;function Ir({title:e,description:t,isFavorite:r=!1,status:n,tags:i=[],statusColorClass:o="",onEdit:l,onDelete:p,resourceId:g,resourceType:h,resourceSlug:k,isActionsOpen:x,setIsActionsOpen:F,showCodeView:D,setShowCodeView:z,handleImport:H,handleExport:U,handleDeploy:q,handleUndeploy:w}){const M=ke(),S=()=>{if(l)l();else if(h&&(k||g)){const f=k||g;switch(h){case"Project":M(`/projects/${f}/edit`);break;case"Server":M(`/servers/${f}/edit`);break}}},j=async()=>{if(p)p();else if(h&&g)try{switch(h){case"Project":ae.success("Project deleted successfully"),M("/projects");break;case"Server":ae.success("Server deleted successfully"),M("/servers");break}}catch(f){console.error(`Error deleting ${h}:`,f),ae.error(`Failed to delete ${h}`)}};return a.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e}),r&&a.jsx(qe,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"})]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:t||"No description provided"}),(n||i.length>0)&&a.jsxs("div",{className:"flex flex-wrap gap-2 my-3",children:[n&&a.jsx(le,{className:o,children:n}),i.map((f,b)=>typeof f=="string"?a.jsx(le,{variant:"outline",children:f},b):a.jsx(T.Fragment,{children:f},b))]})]}),a.jsx("div",{className:"flex gap-2 justify-end",children:a.jsx("div",{className:"flex flex-col gap-2",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(Fe,{open:x,onOpenChange:F,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ze,{asChild:!0,children:a.jsxs(R,{variant:"outline",size:"sm",children:["Actions ",a.jsx(Be,{className:`h-4 w-4 transition-transform ${x?"rotate-180":""}`})]})}),a.jsx(ve,{checked:D,onClick:()=>z(!D),"aria-label":"Toggle code view",icon:_e}),a.jsx("span",{className:"text-sm",children:"Code View"})]}),a.jsxs(He,{className:"absolute z-10 mt-2 p-2 bg-popover border rounded-md shadow-md w-[280px] grid grid-cols-2 gap-2",children:[a.jsxs(R,{variant:"outline",size:"sm",onClick:H,className:"flex items-center justify-start",children:[a.jsx(tt,{className:"h-4 w-4 mr-1"})," Import"]}),a.jsxs(R,{variant:"outline",size:"sm",onClick:U,className:"flex items-center justify-start",children:[a.jsx(at,{className:"h-4 w-4 mr-1"})," Export"]}),a.jsxs(R,{variant:"outline",size:"sm",onClick:q,className:"flex items-center justify-start",children:[a.jsx(nt,{className:"h-4 w-4 mr-1"})," Deploy"]}),a.jsxs(R,{variant:"outline",size:"sm",onClick:w,className:"flex items-center justify-start",children:[a.jsx(rt,{className:"h-4 w-4 mr-1"})," Undeploy"]})]})]}),a.jsx(R,{variant:"outline",onClick:S,children:"Edit"}),a.jsxs(Pe,{children:[a.jsx(Ee,{asChild:!0,children:a.jsx(R,{variant:"destructive",children:"Delete"})}),a.jsxs(Te,{children:[a.jsxs(Ae,{children:[a.jsx(De,{children:"Are you absolutely sure?"}),a.jsxs(Le,{children:["This action cannot be undone. This will permanently delete the ",(h==null?void 0:h.toLowerCase())||"resource","and all associated data."]})]}),a.jsxs(Ie,{children:[a.jsx($e,{children:"Cancel"}),a.jsx(Ve,{onClick:j,children:"Delete"})]})]})]})]})})})]})}function $r({tabs:e,defaultTab:t}){var r;return a.jsxs(Je,{defaultValue:t||((r=e[0])==null?void 0:r.value),children:[a.jsx(Qe,{children:e.map(n=>a.jsx(Xe,{value:n.value,children:n.label},n.value))}),e.map(n=>a.jsx(et,{value:n.value,className:"mt-6",children:a.jsxs(We,{children:[a.jsxs(Ze,{children:[a.jsx(Ke,{children:n.label}),n.description&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ye,{children:n.description}),n.reference&&a.jsx(Se,{to:`${n.reference}`,className:"text-blue-500 hover:underline",children:n.icon})]})]}),a.jsx(Ge,{children:n.content})]})},n.value))]})}const it=s.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:C("w-full caption-bottom text-sm",e),...t})}));it.displayName="Table";const ot=s.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:C("[&_tr]:border-b",e),...t}));ot.displayName="TableHeader";const st=s.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:C("[&_tr:last-child]:border-0",e),...t}));st.displayName="TableBody";const ct=s.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:C("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));ct.displayName="TableFooter";const lt=s.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:C("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));lt.displayName="TableRow";const ut=s.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:C("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ut.displayName="TableHead";const dt=s.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:C("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));dt.displayName="TableCell";const ft=s.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:C("mt-4 text-sm text-muted-foreground",e),...t}));ft.displayName="TableCaption";function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ue(Object(r),!0).forEach(function(n){pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ht(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mt(e,t){if(e==null)return{};var r=ht(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gt(e,t){return vt(e)||bt(e,t)||jt(e,t)||wt()}function vt(e){if(Array.isArray(e))return e}function bt(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,o=void 0;try{for(var l=e[Symbol.iterator](),p;!(n=(p=l.next()).done)&&(r.push(p.value),!(t&&r.length===t));n=!0);}catch(g){i=!0,o=g}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw o}}return r}}function jt(e,t){if(e){if(typeof e=="string")return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}}function fe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pe(Object(r),!0).forEach(function(n){yt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,o){return o(i)},n)}}function K(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,p=new Array(l),g=0;g<l;g++)p[g]=arguments[g];return t.apply(r,[].concat(i,p))}}}function re(e){return{}.toString.call(e).includes("Object")}function Ot(e){return!Object.keys(e).length}function G(e){return typeof e=="function"}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mt(e,t){return re(t)||E("changeType"),Object.keys(t).some(function(r){return!Nt(e,r)})&&E("changeField"),t}function Ct(e){G(e)||E("selectorType")}function kt(e){G(e)||re(e)||E("handlerType"),re(e)&&Object.values(e).some(function(t){return!G(t)})&&E("handlersType")}function St(e){e||E("initialIsRequired"),re(e)||E("initialType"),Ot(e)&&E("initialContent")}function Rt(e,t){throw new Error(e[t]||e.default)}var Pt={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},E=K(Rt)(Pt),ee={changes:Mt,selector:Ct,handler:kt,initial:St};function Et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ee.initial(e),ee.handler(t);var r={current:e},n=K(Dt)(r,t),i=K(At)(r),o=K(ee.changes)(e),l=K(Tt)(r);function p(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(k){return k};return ee.selector(h),h(r.current)}function g(h){xt(n,i,o,l)(h)}return[p,g]}function Tt(e,t){return G(t)?t(e.current):t}function At(e,t){return e.current=he(he({},e.current),t),t}function Dt(e,t,r){return G(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var Lt={create:Et},It={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function $t(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var l=arguments.length,p=new Array(l),g=0;g<l;g++)p[g]=arguments[g];return t.apply(r,[].concat(i,p))}}}function Vt(e){return{}.toString.call(e).includes("Object")}function Ft(e){return e||me("configIsRequired"),Vt(e)||me("configType"),e.urls?(zt(),{paths:{vs:e.urls.monacoBase}}):e}function zt(){console.warn(be.deprecation)}function Ht(e,t){throw new Error(e[t]||e.default)}var be={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},me=$t(Ht)(be),Ut={config:Ft},qt=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(o,l){return l(o)},i)}};function je(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],je(e[r],t[r]))}),de(de({},e),t)}var Bt={type:"cancelation",msg:"operation is manually canceled"};function oe(e){var t=!1,r=new Promise(function(n,i){e.then(function(o){return t?i(Bt):n(o)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var _t=Lt.create({config:It,isInitialized:!1,resolve:null,reject:null,monaco:null}),we=gt(_t,2),J=we[0],ne=we[1];function Wt(e){var t=Ut.config(e),r=t.monaco,n=mt(t,["monaco"]);ne(function(i){return{config:je(i.config,n),monaco:r}})}function Zt(){var e=J(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(ne({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),oe(se);if(window.monaco&&window.monaco.editor)return ye(window.monaco),e.resolve(window.monaco),oe(se);qt(Kt,Gt)(Jt)}return oe(se)}function Kt(e){return document.body.appendChild(e)}function Yt(e){var t=document.createElement("script");return e&&(t.src=e),t}function Gt(e){var t=J(function(n){var i=n.config,o=n.reject;return{config:i,reject:o}}),r=Yt("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Jt(){var e=J(function(r){var n=r.config,i=r.resolve,o=r.reject;return{config:n,resolve:i,reject:o}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){ye(r),e.resolve(r)},function(r){e.reject(r)})}function ye(e){J().monaco||ne({monaco:e})}function Qt(){return J(function(e){var t=e.monaco;return t})}var se=new Promise(function(e,t){return ne({resolve:e,reject:t})}),xe={config:Wt,init:Zt,__getMonacoInstance:Qt},Xt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ce=Xt,er={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},tr=er;function rr({children:e}){return T.createElement("div",{style:tr.container},e)}var nr=rr,ar=nr;function ir({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:o,wrapperProps:l}){return T.createElement("section",{style:{...ce.wrapper,width:e,height:t},...l},!r&&T.createElement(ar,null,n),T.createElement("div",{ref:i,style:{...ce.fullWidth,...!r&&ce.hide},className:o}))}var or=ir,Oe=s.memo(or);function sr(e){s.useEffect(e,[])}var Ne=sr;function cr(e,t,r=!0){let n=s.useRef(!0);s.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var N=cr;function Y(){}function V(e,t,r,n){return lr(e,n)||ur(e,t,r,n)}function lr(e,t){return e.editor.getModel(Me(e,t))}function ur(e,t,r,n){return e.editor.createModel(t,r,n?Me(e,n):void 0)}function Me(e,t){return e.Uri.parse(t)}function dr({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:p=!1,keepCurrentModifiedModel:g=!1,theme:h="light",loading:k="Loading...",options:x={},height:F="100%",width:D="100%",className:z,wrapperProps:H={},beforeMount:U=Y,onMount:q=Y}){let[w,M]=s.useState(!1),[S,j]=s.useState(!0),f=s.useRef(null),b=s.useRef(null),B=s.useRef(null),y=s.useRef(q),d=s.useRef(U),L=s.useRef(!1);Ne(()=>{let c=xe.init();return c.then(m=>(b.current=m)&&j(!1)).catch(m=>(m==null?void 0:m.type)!=="cancelation"&&console.error("Monaco initialization: error:",m)),()=>f.current?_():c.cancel()}),N(()=>{if(f.current&&b.current){let c=f.current.getOriginalEditor(),m=V(b.current,e||"",n||r||"text",o||"");m!==c.getModel()&&c.setModel(m)}},[o],w),N(()=>{if(f.current&&b.current){let c=f.current.getModifiedEditor(),m=V(b.current,t||"",i||r||"text",l||"");m!==c.getModel()&&c.setModel(m)}},[l],w),N(()=>{let c=f.current.getModifiedEditor();c.getOption(b.current.editor.EditorOption.readOnly)?c.setValue(t||""):t!==c.getValue()&&(c.executeEdits("",[{range:c.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),c.pushUndoStop())},[t],w),N(()=>{var c,m;(m=(c=f.current)==null?void 0:c.getModel())==null||m.original.setValue(e||"")},[e],w),N(()=>{let{original:c,modified:m}=f.current.getModel();b.current.editor.setModelLanguage(c,n||r||"text"),b.current.editor.setModelLanguage(m,i||r||"text")},[r,n,i],w),N(()=>{var c;(c=b.current)==null||c.editor.setTheme(h)},[h],w),N(()=>{var c;(c=f.current)==null||c.updateOptions(x)},[x],w);let Q=s.useCallback(()=>{var P;if(!b.current)return;d.current(b.current);let c=V(b.current,e||"",n||r||"text",o||""),m=V(b.current,t||"",i||r||"text",l||"");(P=f.current)==null||P.setModel({original:c,modified:m})},[r,t,i,e,n,o,l]),X=s.useCallback(()=>{var c;!L.current&&B.current&&(f.current=b.current.editor.createDiffEditor(B.current,{automaticLayout:!0,...x}),Q(),(c=b.current)==null||c.editor.setTheme(h),M(!0),L.current=!0)},[x,h,Q]);s.useEffect(()=>{w&&y.current(f.current,b.current)},[w]),s.useEffect(()=>{!S&&!w&&X()},[S,w,X]);function _(){var m,P,I,W;let c=(m=f.current)==null?void 0:m.getModel();p||((P=c==null?void 0:c.original)==null||P.dispose()),g||((I=c==null?void 0:c.modified)==null||I.dispose()),(W=f.current)==null||W.dispose()}return T.createElement(Oe,{width:D,height:F,isEditorReady:w,loading:k,_ref:B,className:z,wrapperProps:H})}var fr=dr;s.memo(fr);function pr(e){let t=s.useRef();return s.useEffect(()=>{t.current=e},[e]),t.current}var hr=pr,te=new Map;function mr({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:o,theme:l="light",line:p,loading:g="Loading...",options:h={},overrideServices:k={},saveViewState:x=!0,keepCurrentModel:F=!1,width:D="100%",height:z="100%",className:H,wrapperProps:U={},beforeMount:q=Y,onMount:w=Y,onChange:M,onValidate:S=Y}){let[j,f]=s.useState(!1),[b,B]=s.useState(!0),y=s.useRef(null),d=s.useRef(null),L=s.useRef(null),Q=s.useRef(w),X=s.useRef(q),_=s.useRef(),c=s.useRef(n),m=hr(o),P=s.useRef(!1),I=s.useRef(!1);Ne(()=>{let u=xe.init();return u.then(v=>(y.current=v)&&B(!1)).catch(v=>(v==null?void 0:v.type)!=="cancelation"&&console.error("Monaco initialization: error:",v)),()=>d.current?Ce():u.cancel()}),N(()=>{var v,O,Z,$;let u=V(y.current,e||n||"",t||i||"",o||r||"");u!==((v=d.current)==null?void 0:v.getModel())&&(x&&te.set(m,(O=d.current)==null?void 0:O.saveViewState()),(Z=d.current)==null||Z.setModel(u),x&&(($=d.current)==null||$.restoreViewState(te.get(o))))},[o],j),N(()=>{var u;(u=d.current)==null||u.updateOptions(h)},[h],j),N(()=>{!d.current||n===void 0||(d.current.getOption(y.current.editor.EditorOption.readOnly)?d.current.setValue(n):n!==d.current.getValue()&&(I.current=!0,d.current.executeEdits("",[{range:d.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),d.current.pushUndoStop(),I.current=!1))},[n],j),N(()=>{var v,O;let u=(v=d.current)==null?void 0:v.getModel();u&&i&&((O=y.current)==null||O.editor.setModelLanguage(u,i))},[i],j),N(()=>{var u;p!==void 0&&((u=d.current)==null||u.revealLine(p))},[p],j),N(()=>{var u;(u=y.current)==null||u.editor.setTheme(l)},[l],j);let W=s.useCallback(()=>{var u;if(!(!L.current||!y.current)&&!P.current){X.current(y.current);let v=o||r,O=V(y.current,n||e||"",t||i||"",v||"");d.current=(u=y.current)==null?void 0:u.editor.create(L.current,{model:O,automaticLayout:!0,...h},k),x&&d.current.restoreViewState(te.get(v)),y.current.editor.setTheme(l),p!==void 0&&d.current.revealLine(p),f(!0),P.current=!0}},[e,t,r,n,i,o,h,k,x,l,p]);s.useEffect(()=>{j&&Q.current(d.current,y.current)},[j]),s.useEffect(()=>{!b&&!j&&W()},[b,j,W]),c.current=n,s.useEffect(()=>{var u,v;j&&M&&((u=_.current)==null||u.dispose(),_.current=(v=d.current)==null?void 0:v.onDidChangeModelContent(O=>{I.current||M(d.current.getValue(),O)}))},[j,M]),s.useEffect(()=>{if(j){let u=y.current.editor.onDidChangeMarkers(v=>{var Z;let O=(Z=d.current.getModel())==null?void 0:Z.uri;if(O&&v.find($=>$.path===O.path)){let $=y.current.editor.getModelMarkers({resource:O});S==null||S($)}});return()=>{u==null||u.dispose()}}return()=>{}},[j,S]);function Ce(){var u,v;(u=_.current)==null||u.dispose(),F?x&&te.set(o,d.current.saveViewState()):(v=d.current.getModel())==null||v.dispose(),d.current.dispose()}return T.createElement(Oe,{width:D,height:z,isEditorReady:j,loading:g,_ref:L,className:H,wrapperProps:U})}var gr=mr,vr=s.memo(gr),Vr=vr;export{Ar as A,Lr as D,Dr as F,$r as R,ve as S,it as T,at as U,ot as a,lt as b,ut as c,st as d,dt as e,Tr as f,ft as g,Ir as h,Vr as i};
//# sourceMappingURL=index-Dj4SeaZv.js.map
