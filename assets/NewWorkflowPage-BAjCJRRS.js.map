{"version":3,"file":"NewWorkflowPage-BAjCJRRS.js","sources":["../../src/pages/studio/NewWorkflowPage.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams, useNavigate } from 'react-router';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { toast } from 'sonner';\nimport { useAuth } from '@/hooks/useAuth';\nimport { ArrowLeft, Loader2 } from 'lucide-react';\n\nexport default function NewWorkflowPage() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  \n  const aiGenerated = searchParams.get('aiGenerated') === 'true';\n  const prompt = searchParams.get('prompt') || '';\n  \n  const [workflowName, setWorkflowName] = useState('');\n  const [workflowDescription, setWorkflowDescription] = useState('');\n  const [isGenerating, setIsGenerating] = useState(aiGenerated);\n  const [isCreating, setIsCreating] = useState(false);\n\n  useEffect(() => {\n    // If this is AI-generated, simulate AI generating a name and description\n    if (aiGenerated && prompt) {\n      const timer = setTimeout(() => {\n        // In a real app, this would come from an AI service\n        const generatedName = prompt\n          .split(' ')\n          .slice(0, 3)\n          .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n          .join(' ') + ' Workflow';\n        \n        setWorkflowName(generatedName);\n        setWorkflowDescription(prompt);\n        setIsGenerating(false);\n      }, 2000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [aiGenerated, prompt]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!workflowName.trim()) {\n      toast.error('Workflow name is required');\n      return;\n    }\n    \n    setIsCreating(true);\n    \n    // Simulate workflow creation\n    setTimeout(() => {\n      const newWorkflowId = Date.now().toString();\n      toast.success('Workflow created successfully');\n      navigate(`/studio/workflows/${newWorkflowId}`);\n    }, 1000);\n  };\n\n  const handleCancel = () => {\n    navigate('/studio');\n  };\n\n  if (isGenerating) {\n    return (\n      <div className=\"container mx-auto p-6 flex flex-col items-center justify-center min-h-[50vh]\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-12 w-12 animate-spin mx-auto mb-4 text-primary\" />\n          <h2 className=\"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent-500 bg-clip-text text-transparent\">Generating Your Workflow</h2>\n          <p className=\"text-muted-foreground mb-8 max-w-md\">\n            We're using AI to create a workflow based on your prompt:<br /> \n            <span className=\"font-medium italic\">\"{prompt}\"</span>\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"mb-6\">\n        <Button variant=\"ghost\" onClick={handleCancel}>\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to Studio\n        </Button>\n      </div>\n      \n      <Card className=\"mx-auto max-w-xl\">\n        <CardHeader>\n          <CardTitle>Create New Workflow</CardTitle>\n          <CardDescription>\n            {aiGenerated\n              ? 'We\\'ve generated this workflow based on your prompt. You can edit the details before creating it.'\n              : 'Set up a new workflow to organize your AI workflows.'}\n          </CardDescription>\n        </CardHeader>\n        <form onSubmit={handleSubmit}>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Workflow Name</Label>\n              <Input\n                id=\"name\"\n                value={workflowName}\n                onChange={(e) => setWorkflowName(e.target.value)}\n                placeholder=\"Enter workflow name\"\n                required\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                value={workflowDescription}\n                onChange={(e) => setWorkflowDescription(e.target.value)}\n                placeholder=\"Describe what this workflow will do\"\n                rows={4}\n              />\n            </div>\n          </CardContent>\n          \n          <CardFooter className=\"flex justify-between\">\n            <Button type=\"button\" variant=\"outline\" onClick={handleCancel}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isCreating}>\n              {isCreating && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n              Create Workflow\n            </Button>\n          </CardFooter>\n        </form>\n      </Card>\n    </div>\n  );\n}\n"],"names":["NewWorkflowPage","searchParams","useSearchParams","navigate","useNavigate","user","useAuth","aiGenerated","prompt","workflowName","setWorkflowName","useState","workflowDescription","setWorkflowDescription","isGenerating","setIsGenerating","isCreating","setIsCreating","useEffect","timer","generatedName","word","handleSubmit","e","toast","newWorkflowId","handleCancel","jsxs","jsx","Loader2","Button","ArrowLeft","Card","CardHeader","CardTitle","CardDescription","CardContent","Label","Input","Textarea","CardFooter"],"mappings":"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"}