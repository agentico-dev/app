import{j as e,L as c}from"./react-vendor-BIgZFnT2.js";import{C as u,a as g,b as x,c as h,d as f,e as j}from"./card-Nfi7rt9A.js";import{B as o}from"./badge-DR5nUtuV.js";import{B as v}from"./button-kXSeDcDx.js";import{e as w,X as b,t as i,s as N}from"./index-CXZKCkms.js";import{u as y}from"./data-management-CvhHSD84.js";import{S as C}from"./star-CSFe5NNz.js";import{T as p}from"./tag-DW6q7fgi.js";import{A as $}from"./app-window-BkgzxvZf.js";import{C as _}from"./circuit-board-C5aOSnNh.js";function I({application:s}){var n;const{removeTagFromResource:z}=w(),{data:t}=y({queryKey:["organization",s.organization_id],queryFn:async()=>{if(!s.organization_id)return null;const{data:r,error:a}=await N.from("organizations").select("slug").eq("id",s.organization_id).single();if(a)throw a;return r},enabled:!!s.organization_id&&!s.organization_slug}),l=r=>{switch(r.toLowerCase()){case"active":return"bg-green-500 hover:bg-green-600";case"development":return"bg-purple-500 hover:bg-purple-600";case"maintenance":return"bg-yellow-500 hover:bg-yellow-600";case"archived":return"bg-red-500 hover:bg-red-600";default:return"bg-slate-500 hover:bg-slate-600"}},d=async r=>{try{i({title:"Tag removed",description:`Tag "${r}" was removed from ${s.name}`})}catch(a){console.error("Error removing tag:",a),i({title:"Error",description:"Failed to remove tag",variant:"destructive"})}},m=()=>{if(s.slug){if(s.organization_slug)return`/apps/${s.organization_slug}@${s.slug}`;if(t!=null&&t.slug)return`/apps/${t.slug}@${s.slug}`}return`/applications/${s.id}`};return e.jsxs(u,{className:"overflow-hidden transition-all hover:shadow-md",children:[e.jsx(g,{className:"p-4 pb-0 flex justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{className:"text-lg",children:s.name}),s.favorite&&e.jsx(C,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 ml-2"})]}),e.jsx(h,{className:"mt-1",children:((n=s.description)==null?void 0:n.length)>150?`${s.description.slice(0,150)}...`:s.description})]})}),e.jsxs(f,{className:"p-4 pt-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs(o,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),s.category]}),s.tags.map(r=>e.jsxs(o,{variant:"secondary",className:"text-xs flex items-center gap-1 group",children:[r,e.jsx("button",{onClick:()=>d(r),className:"opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${r} tag`,children:e.jsx(b,{className:"h-3 w-3"})})]},r))]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[s.endpoints_count," endpoints"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[s.tools_count," AI tools"]})]})]})]}),e.jsxs(j,{className:"p-4 pt-0 flex justify-between",children:[e.jsx(o,{className:`${l(s.status)} text-white`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),e.jsx(v,{asChild:!0,children:e.jsx(c,{to:m(),children:"View API"})})]})]})}export{I as A};
