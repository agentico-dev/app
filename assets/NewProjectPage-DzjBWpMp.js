import{j as e}from"./ui-components-TzlODp5W.js";import{B as a}from"./button-BQg0x-Iw.js";import{C as f,a as g,b,c as C,d as y}from"./card-BSrBs7BE.js";import{r as F,u as N,L as w}from"./react-vendor-h7CPgmbB.js";import{u as P}from"./form-components-DnDvGVII.js";import{I as v}from"./input-C8U_9rf6.js";import{T as S}from"./textarea-age5k_hR.js";import{F as D,a as m,b as d,c as j,d as p,f as u,e as x}from"./form-C906qLN9.js";import{u as k,f as o,s as A}from"./index-qFUq4l6H.js";import{A as E}from"./arrow-left-CMOJeMW-.js";import"./label-Ser6n7cE.js";import"./data-management-D5n4p4qF.js";import"./charts-Bb7PsyAr.js";function I(){const[i,n]=F.useState(!1),c=N(),{session:l}=k(),s=P({defaultValues:{name:"",description:"",status:"Development",tags:[]}}),h=async r=>{if(!l.user){o.error("You need to be logged in to create a project");return}n(!0);try{const{error:t}=await A.from("projects").insert({name:r.name,description:r.description,status:r.status,tags:r.tags,user_id:l.user.id,organization_id:r.organization_id});if(t)throw t;o.success("Project created successfully"),c("/projects")}catch(t){console.error("Error creating project:",t),o.error("Failed to create project")}finally{n(!1)}};return e.jsx(D,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(h),className:"space-y-6",children:[e.jsx(m,{control:s.control,name:"name",render:({field:r})=>e.jsxs(d,{children:[e.jsx(j,{children:"Project Name"}),e.jsx(p,{children:e.jsx(v,{placeholder:"Enter project name",...r})}),e.jsx(u,{children:"The name of your project."}),e.jsx(x,{})]})}),e.jsx(m,{control:s.control,name:"description",render:({field:r})=>e.jsxs(d,{children:[e.jsx(j,{children:"Description"}),e.jsx(p,{children:e.jsx(S,{placeholder:"Describe your project",className:"min-h-[120px]",...r})}),e.jsx(u,{children:"A brief description of what this project is about."}),e.jsx(x,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(a,{type:"button",variant:"outline",onClick:()=>c("/projects"),children:"Cancel"}),e.jsx(a,{type:"submit",disabled:i,children:i?"Creating...":"Create Project"})]})]})})}function K(){return e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsx(a,{variant:"ghost",asChild:!0,children:e.jsxs(w,{to:"/projects",children:[e.jsx(E,{className:"mr-2 h-4 w-4"})," Back to Projects"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New Project"}),e.jsx("p",{className:"text-muted-foreground",children:"Set up a new project workspace for your team"})]}),e.jsxs(f,{children:[e.jsxs(g,{children:[e.jsx(b,{children:"Project Details"}),e.jsx(C,{children:"Fill in the details to create your new project"})]}),e.jsx(y,{children:e.jsx(I,{})})]})]})}export{K as default};
