import{r as f,l as A,o as b,j as e,L as C}from"./react-vendor-BIgZFnT2.js";import{B as m}from"./button-kXSeDcDx.js";import{C as F,a as T,b as N,c as v,d as S}from"./card-Nfi7rt9A.js";import{I}from"./input-BTxwilxg.js";import{T as w}from"./textarea-aX6xt-XV.js";import{F as z,a,b as i,c as n,d as l,e as c,f as d}from"./form-DN-EFpiu.js";import{u as D,d as s,g as L,s as E}from"./index-CXZKCkms.js";import{A as k}from"./arrow-left-By3eKyga.js";import"./data-management-CvhHSD84.js";import"./ui-components-CeV64dF6.js";import"./label-BGrSP2vm.js";import"./utils-CP2dCvBX.js";function _(){const[u,x]=f.useState(!1),h=A(),{session:j}=D(),r=b({defaultValues:{name:"",description:"",category:"AI",status:"Development",tags:[]}});f.useEffect(()=>{const o=localStorage.getItem("selectedOrganizationId");o&&r.setValue("organization_id",o)},[r]);const y=async o=>{if(!j.user){s.error("You need to be logged in to create an AI tool");return}const g=localStorage.getItem("selectedOrganizationId");if(!g){s.error("Please select an organization from the top navigation bar");return}x(!0);try{const t=L(o.name),{error:p}=await E.from("ai_tools").insert({name:o.name,slug:t,description:o.description,category:o.category,status:o.status,tags:o.tags,user_id:j.user.id,organization_id:g});if(p)throw p;s.success("AI Tool created successfully"),h("/ai-tools")}catch(t){console.error("Error creating AI tool:",t),s.error("Failed to create AI tool")}finally{x(!1)}};return e.jsx(z,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(y),className:"space-y-6",children:[e.jsx(a,{control:r.control,name:"name",render:({field:o})=>e.jsxs(i,{children:[e.jsx(n,{children:"Tool Name"}),e.jsx(l,{children:e.jsx(I,{placeholder:"Enter AI tool name",...o})}),e.jsx(c,{children:"The name of your AI tool."}),e.jsx(d,{})]})}),e.jsx(a,{control:r.control,name:"description",render:({field:o})=>e.jsxs(i,{children:[e.jsx(n,{children:"Description"}),e.jsx(l,{children:e.jsx(w,{placeholder:"Describe your AI tool",className:"min-h-[120px]",...o})}),e.jsx(c,{children:"A brief description of what this AI tool does."}),e.jsx(d,{})]})}),e.jsx(a,{control:r.control,name:"category",render:({field:o})=>e.jsxs(i,{children:[e.jsx(n,{children:"Category"}),e.jsx(l,{children:e.jsx(I,{placeholder:"e.g., NLP, Computer Vision, ML",...o})}),e.jsx(c,{children:"The category this AI tool belongs to."}),e.jsx(d,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(m,{type:"button",variant:"outline",onClick:()=>h("/ai-tools"),children:"Cancel"}),e.jsx(m,{type:"submit",disabled:u,children:u?"Creating...":"Create AI Tool"})]})]})})}function Q(){return e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsx(m,{variant:"ghost",asChild:!0,children:e.jsxs(C,{to:"/ai-tools",children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," Back to AI Tools"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New AI Tool"}),e.jsx("p",{className:"text-muted-foreground",children:"Set up a new AI tool for your projects"})]}),e.jsxs(F,{children:[e.jsxs(T,{children:[e.jsx(N,{children:"AI Tool Details"}),e.jsx(v,{children:"Fill in the details to create your new AI tool"})]}),e.jsx(S,{children:e.jsx(_,{})})]})]})}export{Q as default};
