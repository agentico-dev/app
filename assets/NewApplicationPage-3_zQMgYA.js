import{j as e}from"./ui-components-TzlODp5W.js";import{B as d}from"./button-BQg0x-Iw.js";import{C as g,a as y,b,c as C,d as A}from"./card-BSrBs7BE.js";import{r as F,u as N,L as w}from"./react-vendor-h7CPgmbB.js";import{u as v}from"./form-components-DnDvGVII.js";import{I as j}from"./input-C8U_9rf6.js";import{T as D}from"./textarea-age5k_hR.js";import{F as S,a as t,b as a,c as o,d as n,f as c,e as l}from"./form-C906qLN9.js";import{u as k,f as p,s as I}from"./index-qFUq4l6H.js";import{A as T}from"./arrow-left-CMOJeMW-.js";import"./label-Ser6n7cE.js";import"./data-management-D5n4p4qF.js";import"./charts-Bb7PsyAr.js";function E(){const[m,x]=F.useState(!1),u=N(),{session:h}=k(),r=v({defaultValues:{name:"",description:"",category:"Web",status:"Development",tags:[]}}),f=async s=>{if(!h.user){p.error("You need to be logged in to create an application");return}x(!0);try{const{error:i}=await I.from("applications").insert({name:s.name,description:s.description,category:s.category,status:s.status,tags:s.tags,user_id:h.user.id,organization_id:s.organization_id});if(i)throw i;p.success("Application created successfully"),u("/applications")}catch(i){console.error("Error creating application:",i),p.error("Failed to create application")}finally{x(!1)}};return e.jsx(S,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(f),className:"space-y-6",children:[e.jsx(t,{control:r.control,name:"name",render:({field:s})=>e.jsxs(a,{children:[e.jsx(o,{children:"Application Name"}),e.jsx(n,{children:e.jsx(j,{placeholder:"Enter application name",...s})}),e.jsx(c,{children:"The name of your application."}),e.jsx(l,{})]})}),e.jsx(t,{control:r.control,name:"description",render:({field:s})=>e.jsxs(a,{children:[e.jsx(o,{children:"Description"}),e.jsx(n,{children:e.jsx(D,{placeholder:"Describe your application",className:"min-h-[120px]",...s})}),e.jsx(c,{children:"A brief description of what this application does."}),e.jsx(l,{})]})}),e.jsx(t,{control:r.control,name:"category",render:({field:s})=>e.jsxs(a,{children:[e.jsx(o,{children:"Category"}),e.jsx(n,{children:e.jsx(j,{placeholder:"e.g., Web, Mobile, Desktop",...s})}),e.jsx(c,{children:"The category this application belongs to."}),e.jsx(l,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>u("/applications"),children:"Cancel"}),e.jsx(d,{type:"submit",disabled:m,children:m?"Creating...":"Create Application"})]})]})})}function J(){return e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsx(d,{variant:"ghost",asChild:!0,children:e.jsxs(w,{to:"/applications",children:[e.jsx(T,{className:"mr-2 h-4 w-4"})," Back to Applications"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create New Application"}),e.jsx("p",{className:"text-muted-foreground",children:"Set up a new application in your AI ecosystem"})]}),e.jsxs(g,{children:[e.jsxs(y,{children:[e.jsx(b,{children:"Application Details"}),e.jsx(C,{children:"Fill in the details to create your new application"})]}),e.jsx(A,{children:e.jsx(E,{})})]})]})}export{J as default};
