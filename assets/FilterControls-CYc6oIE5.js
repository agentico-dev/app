import{r as n,w as De,j as c}from"./react-vendor-D9Z7L--9.js";import{I as Fe}from"./input-C9MDm0T4.js";import{S as Pe,a as Le,b as Ve,c as Ke,d as qe}from"./select-DduSmGHa.js";import{P as Be,a as ze,b as Oe,S as Ge}from"./popover-BldgfOD1.js";import{B as He}from"./button-DyydDRsx.js";import{u as V,n as R,o as Te,p as Ue,O as We,q as Je,r as be}from"./ui-components-CC8ri8vc.js";import{c as Xe,a as P}from"./index-AU1k0GBq.js";import"./dialog-D_FN0Fk6.js";import{S as ye}from"./search-DW8VQmka.js";import{B as Ye}from"./badge-DQslapAQ.js";import{F as Ze}from"./filter-CmYZIYFF.js";import{C as _e}from"./check-B_vNfbYE.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},l=new e.Error().stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="126cc121-80e4-4b14-bcc5-2eafa35472dc",e._sentryDebugIdIdentifier="sentry-dbid-126cc121-80e4-4b14-bcc5-2eafa35472dc")}catch{}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Xe("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);var he=1,et=.9,tt=.8,rt=.17,_=.1,Q=.999,lt=.9999,nt=.99,at=/[\\\/_+.#"@\[\(\{&]/,it=/[\\\/_+.#"@\[\(\{&]/g,ot=/[\s-]/,we=/[\s-]/g;function te(e,l,t,d,a,u,f){if(u===l.length)return a===e.length?he:nt;var v=`${a},${u}`;if(f[v]!==void 0)return f[v];for(var g=d.charAt(u),m=t.indexOf(g,a),o=0,h,j,S,I;m>=0;)h=te(e,l,t,d,m+1,u+1,f),h>o&&(m===a?h*=he:at.test(e.charAt(m-1))?(h*=tt,S=e.slice(a,m-1).match(it),S&&a>0&&(h*=Math.pow(Q,S.length))):ot.test(e.charAt(m-1))?(h*=et,I=e.slice(a,m-1).match(we),I&&a>0&&(h*=Math.pow(Q,I.length))):(h*=rt,a>0&&(h*=Math.pow(Q,m-a))),e.charAt(m)!==l.charAt(u)&&(h*=lt)),(h<_&&t.charAt(m-1)===d.charAt(u+1)||d.charAt(u+1)===d.charAt(u)&&t.charAt(m-1)!==d.charAt(u))&&(j=te(e,l,t,d,m+1,u+2,f),j*_>h&&(h=j*_)),h>o&&(o=h),m=t.indexOf(g,m+1);return f[v]=o,o}function ge(e){return e.toLowerCase().replace(we," ")}function ut(e,l,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,te(e,l,ge(e),ge(l),0,0,{})}var B='[cmdk-group=""]',ee='[cmdk-group-items=""]',st='[cmdk-group-heading=""]',ae='[cmdk-item=""]',xe=`${ae}:not([aria-disabled="true"])`,re="cmdk-item-select",M="data-value",ct=(e,l,t)=>ut(e,l,t),Se=n.createContext(void 0),O=()=>n.useContext(Se),ke=n.createContext(void 0),ie=()=>n.useContext(ke),je=n.createContext(void 0),Ee=n.forwardRef((e,l)=>{let t=L(()=>{var r,s;return{search:"",value:(s=(r=e.value)!=null?r:e.defaultValue)!=null?s:"",filtered:{count:0,items:new Map,groups:new Set}}}),d=L(()=>new Set),a=L(()=>new Map),u=L(()=>new Map),f=L(()=>new Set),v=Ne(e),{label:g,children:m,value:o,onValueChange:h,filter:j,shouldFilter:S,loop:I,disablePointerSelection:b=!1,vimBindings:N=!0,...G}=e,oe=V(),ue=V(),se=V(),A=n.useRef(null),w=wt();D(()=>{if(o!==void 0){let r=o.trim();t.current.value=r,E.emit()}},[o]),D(()=>{w(6,de)},[]);let E=n.useMemo(()=>({subscribe:r=>(f.current.add(r),()=>f.current.delete(r)),snapshot:()=>t.current,setState:(r,s,p)=>{var i,x,y;if(!Object.is(t.current[r],s)){if(t.current[r]=s,r==="search")X(),W(),w(1,J);else if(r==="value"&&(p||w(5,de),((i=v.current)==null?void 0:i.value)!==void 0)){let C=s??"";(y=(x=v.current).onValueChange)==null||y.call(x,C);return}E.emit()}},emit:()=>{f.current.forEach(r=>r())}}),[]),U=n.useMemo(()=>({value:(r,s,p)=>{var i;s!==((i=u.current.get(r))==null?void 0:i.value)&&(u.current.set(r,{value:s,keywords:p}),t.current.filtered.items.set(r,ce(s,p)),w(2,()=>{W(),E.emit()}))},item:(r,s)=>(d.current.add(r),s&&(a.current.has(s)?a.current.get(s).add(r):a.current.set(s,new Set([r]))),w(3,()=>{X(),W(),t.current.value||J(),E.emit()}),()=>{u.current.delete(r),d.current.delete(r),t.current.filtered.items.delete(r);let p=K();w(4,()=>{X(),(p==null?void 0:p.getAttribute("id"))===r&&J(),E.emit()})}),group:r=>(a.current.has(r)||a.current.set(r,new Set),()=>{u.current.delete(r),a.current.delete(r)}),filter:()=>v.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>v.current.disablePointerSelection,listId:oe,inputId:se,labelId:ue,listInnerRef:A}),[]);function ce(r,s){var p,i;let x=(i=(p=v.current)==null?void 0:p.filter)!=null?i:ct;return r?x(r,t.current.search,s):0}function W(){if(!t.current.search||v.current.shouldFilter===!1)return;let r=t.current.filtered.items,s=[];t.current.filtered.groups.forEach(i=>{let x=a.current.get(i),y=0;x.forEach(C=>{let $=r.get(C);y=Math.max($,y)}),s.push([i,y])});let p=A.current;q().sort((i,x)=>{var y,C;let $=i.getAttribute("id"),H=x.getAttribute("id");return((y=r.get(H))!=null?y:0)-((C=r.get($))!=null?C:0)}).forEach(i=>{let x=i.closest(ee);x?x.appendChild(i.parentElement===x?i:i.closest(`${ee} > *`)):p.appendChild(i.parentElement===p?i:i.closest(`${ee} > *`))}),s.sort((i,x)=>x[1]-i[1]).forEach(i=>{var x;let y=(x=A.current)==null?void 0:x.querySelector(`${B}[${M}="${encodeURIComponent(i[0])}"]`);y==null||y.parentElement.appendChild(y)})}function J(){let r=q().find(p=>p.getAttribute("aria-disabled")!=="true"),s=r==null?void 0:r.getAttribute(M);E.setState("value",s||void 0)}function X(){var r,s,p,i;if(!t.current.search||v.current.shouldFilter===!1){t.current.filtered.count=d.current.size;return}t.current.filtered.groups=new Set;let x=0;for(let y of d.current){let C=(s=(r=u.current.get(y))==null?void 0:r.value)!=null?s:"",$=(i=(p=u.current.get(y))==null?void 0:p.keywords)!=null?i:[],H=ce(C,$);t.current.filtered.items.set(y,H),H>0&&x++}for(let[y,C]of a.current)for(let $ of C)if(t.current.filtered.items.get($)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=x}function de(){var r,s,p;let i=K();i&&(((r=i.parentElement)==null?void 0:r.firstChild)===i&&((p=(s=i.closest(B))==null?void 0:s.querySelector(st))==null||p.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function K(){var r;return(r=A.current)==null?void 0:r.querySelector(`${ae}[aria-selected="true"]`)}function q(){var r;return Array.from(((r=A.current)==null?void 0:r.querySelectorAll(xe))||[])}function Y(r){let s=q()[r];s&&E.setState("value",s.getAttribute(M))}function Z(r){var s;let p=K(),i=q(),x=i.findIndex(C=>C===p),y=i[x+r];(s=v.current)!=null&&s.loop&&(y=x+r<0?i[i.length-1]:x+r===i.length?i[0]:i[x+r]),y&&E.setState("value",y.getAttribute(M))}function fe(r){let s=K(),p=s==null?void 0:s.closest(B),i;for(;p&&!i;)p=r>0?bt(p,B):yt(p,B),i=p==null?void 0:p.querySelector(xe);i?E.setState("value",i.getAttribute(M)):Z(r)}let me=()=>Y(q().length-1),pe=r=>{r.preventDefault(),r.metaKey?me():r.altKey?fe(1):Z(1)},ve=r=>{r.preventDefault(),r.metaKey?Y(0):r.altKey?fe(-1):Z(-1)};return n.createElement(R.div,{ref:l,tabIndex:-1,...G,"cmdk-root":"",onKeyDown:r=>{var s;if((s=G.onKeyDown)==null||s.call(G,r),!r.defaultPrevented)switch(r.key){case"n":case"j":{N&&r.ctrlKey&&pe(r);break}case"ArrowDown":{pe(r);break}case"p":case"k":{N&&r.ctrlKey&&ve(r);break}case"ArrowUp":{ve(r);break}case"Home":{r.preventDefault(),Y(0);break}case"End":{r.preventDefault(),me();break}case"Enter":if(!r.nativeEvent.isComposing&&r.keyCode!==229){r.preventDefault();let p=K();if(p){let i=new Event(re);p.dispatchEvent(i)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:U.inputId,id:U.labelId,style:kt},g),T(e,r=>n.createElement(ke.Provider,{value:E},n.createElement(Se.Provider,{value:U},r))))}),dt=n.forwardRef((e,l)=>{var t,d;let a=V(),u=n.useRef(null),f=n.useContext(je),v=O(),g=Ne(e),m=(d=(t=g.current)==null?void 0:t.forceMount)!=null?d:f==null?void 0:f.forceMount;D(()=>{if(!m)return v.item(a,f==null?void 0:f.id)},[m]);let o=Ce(a,u,[e.value,e.children,u],e.keywords),h=ie(),j=F(w=>w.value&&w.value===o.current),S=F(w=>m||v.filter()===!1?!0:w.search?w.filtered.items.get(a)>0:!0);n.useEffect(()=>{let w=u.current;if(!(!w||e.disabled))return w.addEventListener(re,I),()=>w.removeEventListener(re,I)},[S,e.onSelect,e.disabled]);function I(){var w,E;b(),(E=(w=g.current).onSelect)==null||E.call(w,o.current)}function b(){h.setState("value",o.current,!0)}if(!S)return null;let{disabled:N,value:G,onSelect:oe,forceMount:ue,keywords:se,...A}=e;return n.createElement(R.div,{ref:z([u,l]),...A,id:a,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!j,"data-disabled":!!N,"data-selected":!!j,onPointerMove:N||v.getDisablePointerSelection()?void 0:b,onClick:N?void 0:I},e.children)}),ft=n.forwardRef((e,l)=>{let{heading:t,children:d,forceMount:a,...u}=e,f=V(),v=n.useRef(null),g=n.useRef(null),m=V(),o=O(),h=F(S=>a||o.filter()===!1?!0:S.search?S.filtered.groups.has(f):!0);D(()=>o.group(f),[]),Ce(f,v,[e.value,e.heading,g]);let j=n.useMemo(()=>({id:f,forceMount:a}),[a]);return n.createElement(R.div,{ref:z([v,l]),...u,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&n.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),T(e,S=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},n.createElement(je.Provider,{value:j},S))))}),mt=n.forwardRef((e,l)=>{let{alwaysRender:t,...d}=e,a=n.useRef(null),u=F(f=>!f.search);return!t&&!u?null:n.createElement(R.div,{ref:z([a,l]),...d,"cmdk-separator":"",role:"separator"})}),pt=n.forwardRef((e,l)=>{let{onValueChange:t,...d}=e,a=e.value!=null,u=ie(),f=F(o=>o.search),v=F(o=>o.value),g=O(),m=n.useMemo(()=>{var o;let h=(o=g.listInnerRef.current)==null?void 0:o.querySelector(`${ae}[${M}="${encodeURIComponent(v)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return n.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),n.createElement(R.input,{ref:l,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":m,id:g.inputId,type:"text",value:a?e.value:f,onChange:o=>{a||u.setState("search",o.target.value),t==null||t(o.target.value)}})}),vt=n.forwardRef((e,l)=>{let{children:t,label:d="Suggestions",...a}=e,u=n.useRef(null),f=n.useRef(null),v=O();return n.useEffect(()=>{if(f.current&&u.current){let g=f.current,m=u.current,o,h=new ResizeObserver(()=>{o=requestAnimationFrame(()=>{let j=g.offsetHeight;m.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return h.observe(g),()=>{cancelAnimationFrame(o),h.unobserve(g)}}},[]),n.createElement(R.div,{ref:z([u,l]),...a,"cmdk-list":"",role:"listbox","aria-label":d,id:v.listId},T(e,g=>n.createElement("div",{ref:z([f,v.listInnerRef]),"cmdk-list-sizer":""},g)))}),ht=n.forwardRef((e,l)=>{let{open:t,onOpenChange:d,overlayClassName:a,contentClassName:u,container:f,...v}=e;return n.createElement(Te,{open:t,onOpenChange:d},n.createElement(Ue,{container:f},n.createElement(We,{"cmdk-overlay":"",className:a}),n.createElement(Je,{"aria-label":e.label,"cmdk-dialog":"",className:u},n.createElement(Ee,{ref:l,...v}))))}),gt=n.forwardRef((e,l)=>F(t=>t.filtered.count===0)?n.createElement(R.div,{ref:l,...e,"cmdk-empty":"",role:"presentation"}):null),xt=n.forwardRef((e,l)=>{let{progress:t,children:d,label:a="Loading...",...u}=e;return n.createElement(R.div,{ref:l,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},T(e,f=>n.createElement("div",{"aria-hidden":!0},f)))}),k=Object.assign(Ee,{List:vt,Item:dt,Input:pt,Group:ft,Separator:mt,Dialog:ht,Empty:gt,Loading:xt});function bt(e,l){let t=e.nextElementSibling;for(;t;){if(t.matches(l))return t;t=t.nextElementSibling}}function yt(e,l){let t=e.previousElementSibling;for(;t;){if(t.matches(l))return t;t=t.previousElementSibling}}function Ne(e){let l=n.useRef(e);return D(()=>{l.current=e}),l}var D=typeof window>"u"?n.useEffect:n.useLayoutEffect;function L(e){let l=n.useRef();return l.current===void 0&&(l.current=e()),l}function z(e){return l=>{e.forEach(t=>{typeof t=="function"?t(l):t!=null&&(t.current=l)})}}function F(e){let l=ie(),t=()=>e(l.snapshot());return De.useSyncExternalStore(l.subscribe,t,t)}function Ce(e,l,t,d=[]){let a=n.useRef(),u=O();return D(()=>{var f;let v=(()=>{var m;for(let o of t){if(typeof o=="string")return o.trim();if(typeof o=="object"&&"current"in o)return o.current?(m=o.current.textContent)==null?void 0:m.trim():a.current}})(),g=d.map(m=>m.trim());u.value(e,v,g),(f=l.current)==null||f.setAttribute(M,v),a.current=v}),a}var wt=()=>{let[e,l]=n.useState(),t=L(()=>new Map);return D(()=>{t.current.forEach(d=>d()),t.current=new Map},[e]),(d,a)=>{t.current.set(d,a),l({})}};function St(e){let l=e.type;return typeof l=="function"?l(e.props):"render"in l?l.render(e.props):e}function T({asChild:e,children:l},t){return e&&n.isValidElement(l)?n.cloneElement(St(l),{ref:l.ref},t(l.props.children)):t(l)}var kt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ie=n.forwardRef(({className:e,...l},t)=>c.jsx(k,{ref:t,className:P("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...l}));Ie.displayName=k.displayName;const Re=n.forwardRef(({className:e,...l},t)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(ye,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(k.Input,{ref:t,className:P("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...l})]}));Re.displayName=k.Input.displayName;const Ae=n.forwardRef(({className:e,...l},t)=>c.jsx(k.List,{ref:t,className:P("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...l}));Ae.displayName=k.List.displayName;const $e=n.forwardRef((e,l)=>c.jsx(k.Empty,{ref:l,className:"py-6 text-center text-sm",...e}));$e.displayName=k.Empty.displayName;const le=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Group,{ref:t,className:P("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...l}));le.displayName=k.Group.displayName;const jt=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Separator,{ref:t,className:P("-mx-1 h-px bg-border",e),...l}));jt.displayName=k.Separator.displayName;const ne=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Item,{ref:t,className:P("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...l}));ne.displayName=k.Item.displayName;const Me=n.forwardRef(({className:e,orientation:l="horizontal",decorative:t=!0,...d},a)=>c.jsx(be,{ref:a,decorative:t,orientation:l,className:P("shrink-0 bg-border",l==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...d}));Me.displayName=be.displayName;function Vt({searchQuery:e,setSearchQuery:l,searchValue:t,onSearchValueChange:d,statusOptions:a,selectedStatus:u,onStatusChange:f,activeFilter:v,setActiveFilter:g,tags:m,selectedTags:o,onTagsChange:h}){const j=b=>{o.includes(b)?h(o.filter(N=>N!==b)):h([...o,b])},S=e??t??"",I=b=>{l?l(b):d&&d(b)};return c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(ye,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(Fe,{placeholder:"Search...",value:S,onChange:b=>I(b.target.value),className:"pl-9"})]}),c.jsxs(Pe,{value:u===null?"all":u,onValueChange:b=>f(b==="all"?null:b),children:[c.jsx(Le,{className:"w-full md:w-[180px]",children:c.jsx(Ve,{placeholder:"Status"})}),c.jsx(Ke,{children:a.map(b=>c.jsx(qe,{value:b.value??"all",children:b.label},b.value??"all"))})]}),c.jsxs(Be,{children:[c.jsx(ze,{asChild:!0,children:c.jsxs(He,{variant:"outline",className:"w-full md:w-[180px] justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qe,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Tags"}),o.length>0&&c.jsx(Ye,{variant:"secondary",className:"ml-2 px-1 font-normal",children:o.length})]}),c.jsx(Ze,{className:"ml-2 h-4 w-4 opacity-50"})]})}),c.jsx(Oe,{className:"w-[200px] p-0",align:"end",children:c.jsxs(Ie,{children:[c.jsx(Re,{placeholder:"Search tags..."}),c.jsxs(Ae,{children:[c.jsx($e,{children:"No tags found."}),c.jsx(le,{children:c.jsx(Ge,{className:"h-[200px]",children:m.map(b=>{const N=o.includes(b.id);return c.jsxs(ne,{onSelect:()=>j(b.id),className:"flex items-center gap-2",children:[c.jsx("div",{className:`flex h-4 w-4 items-center justify-center rounded-sm border ${N?"border-primary bg-primary text-primary-foreground":"border-muted opacity-50"}`,children:N&&c.jsx(_e,{className:"h-3 w-3"})}),c.jsx("span",{children:b.name})]},b.id)})})}),c.jsx(Me,{}),c.jsx(le,{children:c.jsx(ne,{onSelect:()=>h([]),className:"justify-center text-center",children:"Clear filters"})})]})]})})]})]})}export{Vt as F};
//# sourceMappingURL=FilterControls-CYc6oIE5.js.map
