import{k as Ke,c as Ht,l as Be,j as e,m as Ft,d as Ut,n as Oe,W as Wt,u as B,i as Z,e as _,X as Kt,o as qt,g as P,p as $t,h as Gt,q as Yt,s as Zt,r as Xt,S as Qt,F as Jt,t as es,v as ts,w as ss}from"./ui-components-TzlODp5W.js";import{u as qe}from"./data-management-D5n4p4qF.js";import{c as ae,a as X,s as $e,u as ns}from"./index-qFUq4l6H.js";import{T as os,a as rs,b as Te,c as Pe}from"./tabs-erqnU2yi.js";import{C as W,a as G,b as ne,c as oe,d as Y,e as as}from"./card-BSrBs7BE.js";import{B as M}from"./button-BQg0x-Iw.js";import{A as Ge,a as Ye,b as Ze}from"./alert-CRQXG9BZ.js";import{h as Xe,D as is,a as ls,b as cs,c as ds,d as us,e as ms,g as ps,S as le,f as hs}from"./skeleton-BWMGFT66.js";import{r,a as Qe,R as Ve,L as fs,h as xs,u as gs}from"./react-vendor-h7CPgmbB.js";import{A as vs,b as js,C as Re}from"./avatar-Dy4Rof1M.js";import{I as ys}from"./input-C8U_9rf6.js";import{L as ze}from"./label-Ser6n7cE.js";import{c as He,F as Je,B as ws}from"./index-DdOdhYqw.js";import{u as Ss}from"./index-LAbEnr50.js";import{C as bs}from"./check-Cklpey2q.js";import{B as et}from"./badge-HFADNs-e.js";import{A as Fe}from"./arrow-left-CMOJeMW-.js";import{S as Ns}from"./shield-Da3zlqBD.js";import{U as Cs}from"./users-r4KQHlz_.js";import"./charts-Bb7PsyAr.js";import"./en-US-F4bQRikB.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ae("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ae("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ae("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var Rs=[" ","Enter","ArrowUp","ArrowDown"],Es=[" ","Enter"],pe="Select",[ge,ve,Ms]=Wt(pe),[ce,En]=Ut(pe,[Ms,Ke]),je=Ke(),[_s,Q]=ce(pe),[As,ks]=ce(pe),st=s=>{const{__scopeSelect:n,children:t,open:a,defaultOpen:o,onOpenChange:d,value:i,defaultValue:c,onValueChange:l,dir:u,name:g,autoComplete:h,disabled:N,required:T,form:C}=s,m=je(n),[v,w]=r.useState(null),[p,x]=r.useState(null),[A,k]=r.useState(!1),de=Ht(u),[I=!1,O]=Be({prop:a,defaultProp:o,onChange:d}),[K,ee]=Be({prop:i,defaultProp:c,onChange:l}),V=r.useRef(null),z=v?C||!!v.closest("form"):!0,[q,H]=r.useState(new Set),F=Array.from(q).map(R=>R.props.value).join(";");return e.jsx(Ft,{...m,children:e.jsxs(_s,{required:T,scope:n,trigger:v,onTriggerChange:w,valueNode:p,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:Oe(),value:K,onValueChange:ee,open:I,onOpenChange:O,dir:de,triggerPointerDownPosRef:V,disabled:N,children:[e.jsx(ge.Provider,{scope:n,children:e.jsx(As,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(R=>{H(L=>new Set(L).add(R))},[]),onNativeOptionRemove:r.useCallback(R=>{H(L=>{const U=new Set(L);return U.delete(R),U})},[]),children:t})}),z?e.jsxs(Pt,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:h,value:K,onChange:R=>ee(R.target.value),disabled:N,form:C,children:[K===void 0?e.jsx("option",{value:""}):null,Array.from(q)]},F):null]})})};st.displayName=pe;var nt="SelectTrigger",ot=r.forwardRef((s,n)=>{const{__scopeSelect:t,disabled:a=!1,...o}=s,d=je(t),i=Q(nt,t),c=i.disabled||a,l=B(n,i.onTriggerChange),u=ve(t),g=r.useRef("touch"),[h,N,T]=It(m=>{const v=u().filter(x=>!x.disabled),w=v.find(x=>x.value===i.value),p=Rt(v,m,w);p!==void 0&&i.onValueChange(p.value)}),C=m=>{c||(i.onOpenChange(!0),T()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(qt,{asChild:!0,...d,children:e.jsx(_.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Tt(i.value)?"":void 0,...o,ref:l,onClick:P(o.onClick,m=>{m.currentTarget.focus(),g.current!=="mouse"&&C(m)}),onPointerDown:P(o.onPointerDown,m=>{g.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(C(m),m.preventDefault())}),onKeyDown:P(o.onKeyDown,m=>{const v=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&N(m.key),!(v&&m.key===" ")&&Rs.includes(m.key)&&(C(),m.preventDefault())})})})});ot.displayName=nt;var rt="SelectValue",at=r.forwardRef((s,n)=>{const{__scopeSelect:t,className:a,style:o,children:d,placeholder:i="",...c}=s,l=Q(rt,t),{onValueNodeHasChildrenChange:u}=l,g=d!==void 0,h=B(n,l.onValueNodeChange);return Z(()=>{u(g)},[u,g]),e.jsx(_.span,{...c,ref:h,style:{pointerEvents:"none"},children:Tt(l.value)?e.jsx(e.Fragment,{children:i}):d})});at.displayName=rt;var Ds="SelectIcon",it=r.forwardRef((s,n)=>{const{__scopeSelect:t,children:a,...o}=s;return e.jsx(_.span,{"aria-hidden":!0,...o,ref:n,children:a||"â–¼"})});it.displayName=Ds;var Os="SelectPortal",lt=s=>e.jsx($t,{asChild:!0,...s});lt.displayName=Os;var re="SelectContent",ct=r.forwardRef((s,n)=>{const t=Q(re,s.__scopeSelect),[a,o]=r.useState();if(Z(()=>{o(new DocumentFragment)},[]),!t.open){const d=a;return d?Qe.createPortal(e.jsx(dt,{scope:s.__scopeSelect,children:e.jsx(ge.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),d):null}return e.jsx(ut,{...s,ref:n})});ct.displayName=re;var D=10,[dt,J]=ce(re),Ls="SelectContentImpl",ut=r.forwardRef((s,n)=>{const{__scopeSelect:t,position:a="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:i,side:c,sideOffset:l,align:u,alignOffset:g,arrowPadding:h,collisionBoundary:N,collisionPadding:T,sticky:C,hideWhenDetached:m,avoidCollisions:v,...w}=s,p=Q(re,t),[x,A]=r.useState(null),[k,de]=r.useState(null),I=B(n,f=>A(f)),[O,K]=r.useState(null),[ee,V]=r.useState(null),z=ve(t),[q,H]=r.useState(!1),F=r.useRef(!1);r.useEffect(()=>{if(x)return Yt(x)},[x]),Zt();const R=r.useCallback(f=>{const[b,...E]=z().map(y=>y.ref.current),[S]=E.slice(-1),j=document.activeElement;for(const y of f)if(y===j||(y==null||y.scrollIntoView({block:"nearest"}),y===b&&k&&(k.scrollTop=0),y===S&&k&&(k.scrollTop=k.scrollHeight),y==null||y.focus(),document.activeElement!==j))return},[z,k]),L=r.useCallback(()=>R([O,x]),[R,O,x]);r.useEffect(()=>{q&&L()},[q,L]);const{onOpenChange:U,triggerPointerDownPosRef:$}=p;r.useEffect(()=>{if(x){let f={x:0,y:0};const b=S=>{var j,y;f={x:Math.abs(Math.round(S.pageX)-(((j=$.current)==null?void 0:j.x)??0)),y:Math.abs(Math.round(S.pageY)-(((y=$.current)==null?void 0:y.y)??0))}},E=S=>{f.x<=10&&f.y<=10?S.preventDefault():x.contains(S.target)||U(!1),document.removeEventListener("pointermove",b),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",b),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",E,{capture:!0})}}},[x,U,$]),r.useEffect(()=>{const f=()=>U(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[U]);const[ye,he]=It(f=>{const b=z().filter(j=>!j.disabled),E=b.find(j=>j.ref.current===document.activeElement),S=Rt(b,f,E);S&&setTimeout(()=>S.ref.current.focus())}),we=r.useCallback((f,b,E)=>{const S=!F.current&&!E;(p.value!==void 0&&p.value===b||S)&&(K(f),S&&(F.current=!0))},[p.value]),Se=r.useCallback(()=>x==null?void 0:x.focus(),[x]),ie=r.useCallback((f,b,E)=>{const S=!F.current&&!E;(p.value!==void 0&&p.value===b||S)&&V(f)},[p.value]),fe=a==="popper"?Ee:mt,ue=fe===Ee?{side:c,sideOffset:l,align:u,alignOffset:g,arrowPadding:h,collisionBoundary:N,collisionPadding:T,sticky:C,hideWhenDetached:m,avoidCollisions:v}:{};return e.jsx(dt,{scope:t,content:x,viewport:k,onViewportChange:de,itemRefCallback:we,selectedItem:O,onItemLeave:Se,itemTextRefCallback:ie,focusSelectedItem:L,selectedItemText:ee,position:a,isPositioned:q,searchRef:ye,children:e.jsx(Xt,{as:Qt,allowPinchZoom:!0,children:e.jsx(Jt,{asChild:!0,trapped:p.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:P(o,f=>{var b;(b=p.trigger)==null||b.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(es,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:f=>f.preventDefault(),...w,...ue,onPlaced:()=>H(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:P(w.onKeyDown,f=>{const b=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!b&&f.key.length===1&&he(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let S=z().filter(j=>!j.disabled).map(j=>j.ref.current);if(["ArrowUp","End"].includes(f.key)&&(S=S.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const j=f.target,y=S.indexOf(j);S=S.slice(y+1)}setTimeout(()=>R(S)),f.preventDefault()}})})})})})})});ut.displayName=Ls;var Bs="SelectItemAlignedPosition",mt=r.forwardRef((s,n)=>{const{__scopeSelect:t,onPlaced:a,...o}=s,d=Q(re,t),i=J(re,t),[c,l]=r.useState(null),[u,g]=r.useState(null),h=B(n,I=>g(I)),N=ve(t),T=r.useRef(!1),C=r.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:w,focusSelectedItem:p}=i,x=r.useCallback(()=>{if(d.trigger&&d.valueNode&&c&&u&&m&&v&&w){const I=d.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),K=d.valueNode.getBoundingClientRect(),ee=w.getBoundingClientRect();if(d.dir!=="rtl"){const j=ee.left-O.left,y=K.left-j,te=I.left-y,se=I.width+te,be=Math.max(se,O.width),Ne=window.innerWidth-D,Ce=He(y,[D,Math.max(D,Ne-be)]);c.style.minWidth=se+"px",c.style.left=Ce+"px"}else{const j=O.right-ee.right,y=window.innerWidth-K.right-j,te=window.innerWidth-I.right-y,se=I.width+te,be=Math.max(se,O.width),Ne=window.innerWidth-D,Ce=He(y,[D,Math.max(D,Ne-be)]);c.style.minWidth=se+"px",c.style.right=Ce+"px"}const V=N(),z=window.innerHeight-D*2,q=m.scrollHeight,H=window.getComputedStyle(u),F=parseInt(H.borderTopWidth,10),R=parseInt(H.paddingTop,10),L=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),$=F+R+q+U+L,ye=Math.min(v.offsetHeight*5,$),he=window.getComputedStyle(m),we=parseInt(he.paddingTop,10),Se=parseInt(he.paddingBottom,10),ie=I.top+I.height/2-D,fe=z-ie,ue=v.offsetHeight/2,f=v.offsetTop+ue,b=F+R+f,E=$-b;if(b<=ie){const j=V.length>0&&v===V[V.length-1].ref.current;c.style.bottom="0px";const y=u.clientHeight-m.offsetTop-m.offsetHeight,te=Math.max(fe,ue+(j?Se:0)+y+L),se=b+te;c.style.height=se+"px"}else{const j=V.length>0&&v===V[0].ref.current;c.style.top="0px";const te=Math.max(ie,F+m.offsetTop+(j?we:0)+ue)+E;c.style.height=te+"px",m.scrollTop=b-ie+m.offsetTop}c.style.margin=`${D}px 0`,c.style.minHeight=ye+"px",c.style.maxHeight=z+"px",a==null||a(),requestAnimationFrame(()=>T.current=!0)}},[N,d.trigger,d.valueNode,c,u,m,v,w,d.dir,a]);Z(()=>x(),[x]);const[A,k]=r.useState();Z(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const de=r.useCallback(I=>{I&&C.current===!0&&(x(),p==null||p(),C.current=!1)},[x,p]);return e.jsx(zs,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:de,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(_.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});mt.displayName=Bs;var Vs="SelectPopperPosition",Ee=r.forwardRef((s,n)=>{const{__scopeSelect:t,align:a="start",collisionPadding:o=D,...d}=s,i=je(t);return e.jsx(ts,{...i,...d,ref:n,align:a,collisionPadding:o,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ee.displayName=Vs;var[zs,Le]=ce(re,{}),Me="SelectViewport",pt=r.forwardRef((s,n)=>{const{__scopeSelect:t,nonce:a,...o}=s,d=J(Me,t),i=Le(Me,t),c=B(n,d.onViewportChange),l=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(ge.Slot,{scope:t,children:e.jsx(_.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:P(o.onScroll,u=>{const g=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:N}=i;if(N!=null&&N.current&&h){const T=Math.abs(l.current-g.scrollTop);if(T>0){const C=window.innerHeight-D*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),w=Math.max(m,v);if(w<C){const p=w+T,x=Math.min(C,p),A=p-x;h.style.height=x+"px",h.style.bottom==="0px"&&(g.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}l.current=g.scrollTop})})})]})});pt.displayName=Me;var ht="SelectGroup",[Hs,Fs]=ce(ht),Us=r.forwardRef((s,n)=>{const{__scopeSelect:t,...a}=s,o=Oe();return e.jsx(Hs,{scope:t,id:o,children:e.jsx(_.div,{role:"group","aria-labelledby":o,...a,ref:n})})});Us.displayName=ht;var ft="SelectLabel",xt=r.forwardRef((s,n)=>{const{__scopeSelect:t,...a}=s,o=Fs(ft,t);return e.jsx(_.div,{id:o.id,...a,ref:n})});xt.displayName=ft;var xe="SelectItem",[Ws,gt]=ce(xe),vt=r.forwardRef((s,n)=>{const{__scopeSelect:t,value:a,disabled:o=!1,textValue:d,...i}=s,c=Q(xe,t),l=J(xe,t),u=c.value===a,[g,h]=r.useState(d??""),[N,T]=r.useState(!1),C=B(n,p=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,p,a,o)}),m=Oe(),v=r.useRef("touch"),w=()=>{o||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ws,{scope:t,value:a,disabled:o,textId:m,isSelected:u,onItemTextChange:r.useCallback(p=>{h(x=>x||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(ge.ItemSlot,{scope:t,value:a,disabled:o,textValue:g,children:e.jsx(_.div,{role:"option","aria-labelledby":m,"data-highlighted":N?"":void 0,"aria-selected":u&&N,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:C,onFocus:P(i.onFocus,()=>T(!0)),onBlur:P(i.onBlur,()=>T(!1)),onClick:P(i.onClick,()=>{v.current!=="mouse"&&w()}),onPointerUp:P(i.onPointerUp,()=>{v.current==="mouse"&&w()}),onPointerDown:P(i.onPointerDown,p=>{v.current=p.pointerType}),onPointerMove:P(i.onPointerMove,p=>{var x;v.current=p.pointerType,o?(x=l.onItemLeave)==null||x.call(l):v.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:P(i.onPointerLeave,p=>{var x;p.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:P(i.onKeyDown,p=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&p.key===" "||(Es.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})})})})});vt.displayName=xe;var me="SelectItemText",jt=r.forwardRef((s,n)=>{const{__scopeSelect:t,className:a,style:o,...d}=s,i=Q(me,t),c=J(me,t),l=gt(me,t),u=ks(me,t),[g,h]=r.useState(null),N=B(n,w=>h(w),l.onItemTextChange,w=>{var p;return(p=c.itemTextRefCallback)==null?void 0:p.call(c,w,l.value,l.disabled)}),T=g==null?void 0:g.textContent,C=r.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:T},l.value),[l.disabled,l.value,T]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Z(()=>(m(C),()=>v(C)),[m,v,C]),e.jsxs(e.Fragment,{children:[e.jsx(_.span,{id:l.textId,...d,ref:N}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Qe.createPortal(d.children,i.valueNode):null]})});jt.displayName=me;var yt="SelectItemIndicator",wt=r.forwardRef((s,n)=>{const{__scopeSelect:t,...a}=s;return gt(yt,t).isSelected?e.jsx(_.span,{"aria-hidden":!0,...a,ref:n}):null});wt.displayName=yt;var _e="SelectScrollUpButton",St=r.forwardRef((s,n)=>{const t=J(_e,s.__scopeSelect),a=Le(_e,s.__scopeSelect),[o,d]=r.useState(!1),i=B(n,a.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let c=function(){const u=l.scrollTop>0;d(u)};const l=t.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?e.jsx(Nt,{...s,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=t;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});St.displayName=_e;var Ae="SelectScrollDownButton",bt=r.forwardRef((s,n)=>{const t=J(Ae,s.__scopeSelect),a=Le(Ae,s.__scopeSelect),[o,d]=r.useState(!1),i=B(n,a.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,g=Math.ceil(l.scrollTop)<u;d(g)};const l=t.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?e.jsx(Nt,{...s,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=t;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});bt.displayName=Ae;var Nt=r.forwardRef((s,n)=>{const{__scopeSelect:t,onAutoScroll:a,...o}=s,d=J("SelectScrollButton",t),i=r.useRef(null),c=ve(t),l=r.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>l(),[l]),Z(()=>{var g;const u=c().find(h=>h.ref.current===document.activeElement);(g=u==null?void 0:u.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),e.jsx(_.div,{"aria-hidden":!0,...o,ref:n,style:{flexShrink:0,...o.style},onPointerDown:P(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(a,50))}),onPointerMove:P(o.onPointerMove,()=>{var u;(u=d.onItemLeave)==null||u.call(d),i.current===null&&(i.current=window.setInterval(a,50))}),onPointerLeave:P(o.onPointerLeave,()=>{l()})})}),Ks="SelectSeparator",Ct=r.forwardRef((s,n)=>{const{__scopeSelect:t,...a}=s;return e.jsx(_.div,{"aria-hidden":!0,...a,ref:n})});Ct.displayName=Ks;var ke="SelectArrow",qs=r.forwardRef((s,n)=>{const{__scopeSelect:t,...a}=s,o=je(t),d=Q(ke,t),i=J(ke,t);return d.open&&i.position==="popper"?e.jsx(ss,{...o,...a,ref:n}):null});qs.displayName=ke;function Tt(s){return s===""||s===void 0}var Pt=r.forwardRef((s,n)=>{const{value:t,...a}=s,o=r.useRef(null),d=B(n,o),i=Ss(t);return r.useEffect(()=>{const c=o.current,l=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&g){const h=new Event("change",{bubbles:!0});g.call(c,t),c.dispatchEvent(h)}},[i,t]),e.jsx(Kt,{asChild:!0,children:e.jsx("select",{...a,ref:d,defaultValue:t})})});Pt.displayName="BubbleSelect";function It(s){const n=Gt(s),t=r.useRef(""),a=r.useRef(0),o=r.useCallback(i=>{const c=t.current+i;n(c),function l(u){t.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>l(""),1e3))}(c)},[n]),d=r.useCallback(()=>{t.current="",window.clearTimeout(a.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),[t,o,d]}function Rt(s,n,t){const o=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,d=t?s.indexOf(t):-1;let i=$s(s,Math.max(d,0));o.length===1&&(i=i.filter(u=>u!==t));const l=i.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==t?l:void 0}function $s(s,n){return s.map((t,a)=>s[(n+a)%s.length])}var Gs=st,Et=ot,Ys=at,Zs=it,Xs=lt,Mt=ct,Qs=pt,_t=xt,At=vt,Js=jt,en=wt,kt=St,Dt=bt,Ot=Ct;const tn=Gs,sn=Ys,Lt=r.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(Et,{ref:a,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[n,e.jsx(Zs,{asChild:!0,children:e.jsx(tt,{className:"h-4 w-4 opacity-50"})})]}));Lt.displayName=Et.displayName;const Bt=r.forwardRef(({className:s,...n},t)=>e.jsx(kt,{ref:t,className:X("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(Ts,{className:"h-4 w-4"})}));Bt.displayName=kt.displayName;const Vt=r.forwardRef(({className:s,...n},t)=>e.jsx(Dt,{ref:t,className:X("flex cursor-default items-center justify-center py-1",s),...n,children:e.jsx(tt,{className:"h-4 w-4"})}));Vt.displayName=Dt.displayName;const zt=r.forwardRef(({className:s,children:n,position:t="popper",...a},o)=>e.jsx(Xs,{children:e.jsxs(Mt,{ref:o,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...a,children:[e.jsx(Bt,{}),e.jsx(Qs,{className:X("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(Vt,{})]})}));zt.displayName=Mt.displayName;const nn=r.forwardRef(({className:s,...n},t)=>e.jsx(_t,{ref:t,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n}));nn.displayName=_t.displayName;const De=r.forwardRef(({className:s,children:n,...t},a)=>e.jsxs(At,{ref:a,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(en,{children:e.jsx(bs,{className:"h-4 w-4"})})}),e.jsx(Js,{children:n})]}));De.displayName=At.displayName;const on=r.forwardRef(({className:s,...n},t)=>e.jsx(Ot,{ref:t,className:X("-mx-1 my-1 h-px bg-muted",s),...n}));on.displayName=Ot.displayName;function rn({organization:s,members:n,isLoading:t,isAuthenticated:a,isOrgMember:o}){const{addMember:d}=Xe(s.id),[i,c]=Ve.useState(!1),[l,u]=Ve.useState({email:"",role:"member"}),g=async h=>{h.preventDefault();try{await d.mutateAsync(l),c(!1),u({email:"",role:"member"})}catch(N){console.error("Error adding member:",N)}};return t?e.jsxs(W,{children:[e.jsxs(G,{children:[e.jsx(ne,{children:"Team Members"}),e.jsx(oe,{children:"Manage your organization's team members."})]}),e.jsx(Y,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-muted"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-5 w-32 bg-muted rounded"}),e.jsx("div",{className:"h-4 w-24 bg-muted rounded"})]})]},h))})})]}):e.jsxs(W,{children:[e.jsxs(G,{className:"flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ne,{children:"Team Members"}),e.jsx(oe,{children:"Manage your organization's team members."})]}),e.jsxs(is,{open:i,onOpenChange:c,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(M,{disabled:!a||!o,children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Invite Member"]})}),e.jsxs(cs,{children:[e.jsxs(ds,{children:[e.jsx(us,{children:"Invite team member"}),e.jsx(ms,{children:"Add a new member to your organization. They will receive an email invitation."})]}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ze,{htmlFor:"email",children:"Email"}),e.jsx(ys,{id:"email",type:"email",value:l.email,onChange:h=>u({...l,email:h.target.value}),placeholder:"coworker@example.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(ze,{htmlFor:"role",children:"Role"}),e.jsxs(tn,{value:l.role,onValueChange:h=>u({...l,role:h}),children:[e.jsx(Lt,{id:"role",children:e.jsx(sn,{placeholder:"Select a role"})}),e.jsxs(zt,{children:[e.jsx(De,{value:"admin",children:"Admin"}),e.jsx(De,{value:"member",children:"Member"})]})]})]})]}),e.jsx(ps,{children:e.jsx(M,{type:"submit",disabled:d.isPending,children:d.isPending?"Inviting...":"Invite Member"})})]})]})]})]}),e.jsx(Y,{children:n.length===0?e.jsxs("div",{className:"text-center p-6",children:[e.jsx(We,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No team members yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Invite team members to collaborate with you in this organization."}),a&&o&&e.jsxs(M,{onClick:()=>c(!0),children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"Invite Member"]})]}):e.jsx("div",{className:"space-y-4",children:n.map(h=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(vs,{children:e.jsx(js,{children:h.user_id.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:h.user_id}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:h.role})]})]}),a&&o&&h.role!=="owner"&&e.jsx(M,{variant:"outline",size:"sm",disabled:!o,children:"Remove"})]},h.id))})})]})}function an({organization:s,isAuthenticated:n,isOrgMember:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(W,{children:[e.jsxs(G,{children:[e.jsx(ne,{children:"Current Plan"}),e.jsx(oe,{children:"Manage your subscription and billing information."})]}),e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Free Plan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Basic features for small organizations"})]}),e.jsx(et,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Current Plan"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{children:"Up to 3 team members"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{children:"5 projects"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2 text-green-500"}),e.jsx("span",{children:"Basic analytics"})]})]})]}),e.jsx(as,{children:e.jsxs(M,{disabled:!n||!t,children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})})]}),e.jsxs(W,{children:[e.jsxs(G,{children:[e.jsx(ne,{children:"Payment Methods"}),e.jsx(oe,{children:"Manage your payment methods and billing history."})]}),e.jsx(Y,{children:!n||!t?e.jsxs(Ge,{children:[e.jsx(Ps,{className:"h-4 w-4"}),e.jsx(Ye,{children:"Access restricted"}),e.jsx(Ze,{children:"You need to sign in and be a member of this organization to view payment methods."})]}):e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Re,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No payment methods"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't added any payment methods yet."}),e.jsx(M,{children:"Add Payment Method"})]})})]})]})}function ln({organization:s,isAuthenticated:n,isOrgMember:t}){const{data:a,isLoading:o}=qe({queryKey:["organization-projects",s.id],queryFn:async()=>{const{data:d,error:i}=await $e.from("projects").select("*").eq("organization_id",s.id);if(i)throw i;return d}});return o?e.jsxs(W,{children:[e.jsxs(G,{children:[e.jsx(ne,{children:"Projects"}),e.jsx(oe,{children:"Projects in this organization."})]}),e.jsx(Y,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3,4].map(d=>e.jsxs(W,{children:[e.jsxs(G,{className:"p-4",children:[e.jsx(le,{className:"h-5 w-3/4"}),e.jsx(le,{className:"h-4 w-1/2 mt-2"})]}),e.jsx(Y,{className:"p-4 pt-0",children:e.jsx(le,{className:"h-4 w-full"})})]},d))})})]}):e.jsxs(W,{children:[e.jsxs(G,{className:"flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(ne,{children:"Projects"}),e.jsx(oe,{children:"Projects in this organization."})]}),e.jsxs(M,{disabled:!n||!t,children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),e.jsx(Y,{children:!a||a.length===0?e.jsxs("div",{className:"text-center p-6",children:[e.jsx(Je,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"This organization doesn't have any projects yet."}),n&&t&&e.jsxs(M,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(d=>e.jsxs(W,{children:[e.jsxs(G,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-lg",children:d.name}),e.jsx(et,{className:d.status==="active"?"bg-green-100 text-green-800":d.status==="archived"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800",children:d.status})]}),e.jsx(oe,{className:"line-clamp-2",children:d.description||"No description available"})]}),e.jsxs(Y,{className:"p-4 pt-0",children:[e.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:e.jsxs("span",{children:["Created ",hs(new Date(d.created_at),"MMM d, yyyy")]})}),e.jsx("div",{className:"mt-4",children:e.jsx(M,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(fs,{to:`/projects/${d.id}`,children:"View Project"})})})]})]},d.id))})})]})}function Mn(){const{slug:s}=xs(),n=gs(),{session:t}=ns(),a=!!t.user,{data:o,isLoading:d}=qe({queryKey:["organization",s],queryFn:async()=>{if(!s)throw new Error("Organization slug is required");const{data:g,error:h}=await $e.from("organizations").select("*").eq("slug",s).single();if(h)throw h;return g},enabled:!!s}),{members:i,isLoading:c}=Xe(o==null?void 0:o.id),u=!!(i==null?void 0:i.find(g=>{var h;return g.user_id===((h=t.user)==null?void 0:h.id)}));return d?e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsx(le,{className:"h-8 w-1/3"}),e.jsx(le,{className:"h-4 w-1/4"}),e.jsx(le,{className:"h-64 w-full"})]}):o?e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsxs(M,{variant:"ghost",onClick:()=>n("/organizations"),children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," Back to Organizations"]}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o.name}),e.jsx("p",{className:"text-muted-foreground",children:o.description||"No description available"})]})}),!a&&e.jsxs(Ge,{variant:"default",className:"bg-amber-50 border-amber-200",children:[e.jsx(Ns,{className:"h-4 w-4 text-amber-500"}),e.jsx(Ye,{children:"Limited Access Mode"}),e.jsx(Ze,{children:"You're browsing in read-only mode. Sign in to manage this organization."})]}),e.jsxs(os,{defaultValue:"teams",className:"space-y-4",children:[e.jsxs(rs,{children:[e.jsxs(Te,{value:"teams",children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Teams"]}),e.jsxs(Te,{value:"billing",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Billing"]}),e.jsxs(Te,{value:"projects",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Projects"]})]}),e.jsx(Pe,{value:"teams",children:e.jsx(rn,{organization:o,members:i||[],isLoading:c,isAuthenticated:a,isOrgMember:u})}),e.jsx(Pe,{value:"billing",children:e.jsx(an,{organization:o,isAuthenticated:a,isOrgMember:u})}),e.jsx(Pe,{value:"projects",children:e.jsx(ln,{organization:o,isAuthenticated:a,isOrgMember:u})})]})]}):e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsxs(M,{variant:"ghost",onClick:()=>n("/organizations"),children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," Back to Organizations"]}),e.jsxs(W,{className:"p-8 flex flex-col items-center justify-center",children:[e.jsx(ws,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Organization not found"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-4",children:"The organization you're looking for doesn't exist or you don't have permission to view it."}),e.jsx(M,{onClick:()=>n("/organizations"),children:"View All Organizations"})]})]})}export{Mn as default};
