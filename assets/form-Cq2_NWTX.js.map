{"version":3,"file":"form-Cq2_NWTX.js","sources":["../../src/components/ui/form.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  FormProvider,\n  useFormContext,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const formContext = useFormContext()\n  if (!formContext) {\n    throw new Error(\"No form context found. Wrap the form with <Form>.\")\n  }\n  const { getFieldState, formState } = formContext\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message) : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":["Form","FormProvider","FormFieldContext","React.createContext","FormField","props","jsx","Controller","useFormField","fieldContext","React.useContext","itemContext","FormItemContext","formContext","useFormContext","getFieldState","formState","fieldState","id","FormItem","React.forwardRef","className","ref","React.useId","cn","FormLabel","error","formItemId","Label","FormControl","formDescriptionId","formMessageId","Slot","FormDescription","FormMessage","children","body"],"mappings":"ohBAeA,MAAMA,EAAOC,EASPC,EAAmBC,EAAM,cAC7B,CAAA,CACF,EAEMC,EAAY,CAGhB,CACA,GAAGC,CACL,IAEKC,EAAAA,IAAAJ,EAAiB,SAAjB,CAA0B,MAAO,CAAE,KAAMG,EAAM,IAAA,EAC9C,SAAAC,EAAAA,IAACC,EAAY,CAAA,GAAGF,CAAO,CAAA,EACzB,EAIEG,EAAe,IAAM,CACnB,MAAAC,EAAeC,EAAM,WAAWR,CAAgB,EAChDS,EAAcD,EAAM,WAAWE,CAAe,EAC9CC,EAAcC,EAAe,EACnC,GAAI,CAACD,EACG,MAAA,IAAI,MAAM,mDAAmD,EAE/D,KAAA,CAAE,cAAAE,EAAe,UAAAC,CAAA,EAAcH,EAE/BI,EAAaF,EAAcN,EAAa,KAAMO,CAAS,EAE7D,GAAI,CAACP,EACG,MAAA,IAAI,MAAM,gDAAgD,EAG5D,KAAA,CAAE,GAAAS,GAAOP,EAER,MAAA,CACL,GAAAO,EACA,KAAMT,EAAa,KACnB,WAAY,GAAGS,CAAE,aACjB,kBAAmB,GAAGA,CAAE,yBACxB,cAAe,GAAGA,CAAE,qBACpB,GAAGD,CACL,CACF,EAMML,EAAkBT,EAAM,cAC5B,CAAA,CACF,EAEMgB,EAAWC,EAGf,WAAA,CAAC,CAAE,UAAAC,EAAW,GAAGhB,CAAM,EAAGiB,IAAQ,CAC5B,MAAAJ,EAAKK,EAAAA,MAAY,EAEvB,aACGX,EAAgB,SAAhB,CAAyB,MAAO,CAAE,GAAAM,GACjC,SAAAZ,EAAA,IAAC,MAAI,CAAA,IAAAgB,EAAU,UAAWE,EAAG,YAAaH,CAAS,EAAI,GAAGhB,CAAO,CAAA,EACnE,CAEJ,CAAC,EACDc,EAAS,YAAc,WAEjB,MAAAM,EAAYL,EAGhB,WAAA,CAAC,CAAE,UAAAC,EAAW,GAAGhB,CAAM,EAAGiB,IAAQ,CAClC,KAAM,CAAE,MAAAI,EAAO,WAAAC,CAAW,EAAInB,EAAa,EAGzC,OAAAF,EAAA,IAACsB,EAAA,CACC,IAAAN,EACA,UAAWE,EAAGE,GAAS,mBAAoBL,CAAS,EACpD,QAASM,EACR,GAAGtB,CAAA,CACN,CAEJ,CAAC,EACDoB,EAAU,YAAc,YAElB,MAAAI,EAAcT,EAAAA,WAGlB,CAAC,CAAE,GAAGf,CAAA,EAASiB,IAAQ,CACvB,KAAM,CAAE,MAAAI,EAAO,WAAAC,EAAY,kBAAAG,EAAmB,cAAAC,CAAA,EAAkBvB,EAAa,EAG3E,OAAAF,EAAA,IAAC0B,EAAA,CACC,IAAAV,EACA,GAAIK,EACJ,mBACGD,EAEG,GAAGI,CAAiB,IAAIC,CAAa,GADrC,GAAGD,CAAiB,GAG1B,eAAc,CAAC,CAACJ,EACf,GAAGrB,CAAA,CACN,CAEJ,CAAC,EACDwB,EAAY,YAAc,cAEpB,MAAAI,EAAkBb,EAGtB,WAAA,CAAC,CAAE,UAAAC,EAAW,GAAGhB,CAAM,EAAGiB,IAAQ,CAC5B,KAAA,CAAE,kBAAAQ,CAAkB,EAAItB,EAAa,EAGzC,OAAAF,EAAA,IAAC,IAAA,CACC,IAAAgB,EACA,GAAIQ,EACJ,UAAWN,EAAG,gCAAiCH,CAAS,EACvD,GAAGhB,CAAA,CACN,CAEJ,CAAC,EACD4B,EAAgB,YAAc,kBAExB,MAAAC,EAAcd,EAAM,WAGxB,CAAC,CAAE,UAAAC,EAAW,SAAAc,EAAU,GAAG9B,CAAM,EAAGiB,IAAQ,CAC5C,KAAM,CAAE,MAAAI,EAAO,cAAAK,CAAc,EAAIvB,EAAa,EACxC4B,EAAOV,EAAQ,OAAOA,GAAA,YAAAA,EAAO,OAAO,EAAIS,EAE9C,OAAKC,EAKH9B,EAAA,IAAC,IAAA,CACC,IAAAgB,EACA,GAAIS,EACJ,UAAWP,EAAG,uCAAwCH,CAAS,EAC9D,GAAGhB,EAEH,SAAA+B,CAAA,CACH,EAXO,IAaX,CAAC,EACDF,EAAY,YAAc"}