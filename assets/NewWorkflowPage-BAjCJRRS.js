import{y as N,t as C,r as o,j as e}from"./react-vendor-TyuC8qxg.js";import{B as l}from"./button-CrjcO5GY.js";import{I as v}from"./input-DR-AxXjG.js";import{T as W}from"./textarea-CzliNkd6.js";import{L as x}from"./label-ppAVubx0.js";import{C as I,a as D,b as S,d as T,c as A,e as E}from"./card-DAAmTFtc.js";import{u as G,g as h}from"./index-D5uhiMQB.js";import{L as w}from"./loader-circle-DYphBqlP.js";import{A as L}from"./arrow-left-B-jkszN4.js";import"./ui-components-CAmpQbeX.js";import"./supabase-DLYUZSEu.js";import"./utils-DVqAV-fM.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new t.Error().stack;r&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[r]="bf57fd80-a98d-4056-9b00-2ce29a7ff6f1",t._sentryDebugIdIdentifier="sentry-dbid-bf57fd80-a98d-4056-9b00-2ce29a7ff6f1")}catch{}function M(){const[t]=N(),r=C(),{user:_}=G(),n=t.get("aiGenerated")==="true",a=t.get("prompt")||"",[c,d]=o.useState(""),[g,m]=o.useState(""),[b,j]=o.useState(n),[f,k]=o.useState(!1);o.useEffect(()=>{if(n&&a){const s=setTimeout(()=>{const i=a.split(" ").slice(0,3).map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" ")+" Workflow";d(i),m(a),j(!1)},2e3);return()=>clearTimeout(s)}},[n,a]);const y=s=>{if(s.preventDefault(),!c.trim()){h.error("Workflow name is required");return}k(!0),setTimeout(()=>{const i=Date.now().toString();h.success("Workflow created successfully"),r(`/studio/workflows/${i}`)},1e3)},u=()=>{r("/studio")};return b?e.jsx("div",{className:"container mx-auto p-6 flex flex-col items-center justify-center min-h-[50vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(w,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),e.jsx("h2",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent-500 bg-clip-text text-transparent",children:"Generating Your Workflow"}),e.jsxs("p",{className:"text-muted-foreground mb-8 max-w-md",children:["We're using AI to create a workflow based on your prompt:",e.jsx("br",{}),e.jsxs("span",{className:"font-medium italic",children:['"',a,'"']})]})]})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(l,{variant:"ghost",onClick:u,children:[e.jsx(L,{className:"mr-2 h-4 w-4"})," Back to Studio"]})}),e.jsxs(I,{className:"mx-auto max-w-xl",children:[e.jsxs(D,{children:[e.jsx(S,{children:"Create New Workflow"}),e.jsx(T,{children:n?"We've generated this workflow based on your prompt. You can edit the details before creating it.":"Set up a new workflow to organize your AI workflows."})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"name",children:"Workflow Name"}),e.jsx(v,{id:"name",value:c,onChange:s=>d(s.target.value),placeholder:"Enter workflow name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"description",children:"Description"}),e.jsx(W,{id:"description",value:g,onChange:s=>m(s.target.value),placeholder:"Describe what this workflow will do",rows:4})]})]}),e.jsxs(E,{className:"flex justify-between",children:[e.jsx(l,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),e.jsxs(l,{type:"submit",disabled:f,children:[f&&e.jsx(w,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Workflow"]})]})]})]})]})}export{M as default};
//# sourceMappingURL=NewWorkflowPage-BAjCJRRS.js.map
