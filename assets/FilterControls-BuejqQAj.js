import{r as n,w as $e,j as c}from"./react-vendor-pyaEZ1K4.js";import{I as Me}from"./input-B2NTb4C1.js";import{S as Fe,a as Pe,b as De,c as Le,d as Ve}from"./select-COjrux90.js";import{P as Ke,a as qe,b as Be,S as Oe}from"./popover-CSwRWDcn.js";import{B as Ge}from"./button-DgiK2e7X.js";import{u as L,n as I,o as He,p as ze,O as Ue,q as Te}from"./ui-components-C95S_aop.js";import{c as We,a as V}from"./index-CcMg1OWm.js";import"./dialog-CJ93zkIF.js";import{S as be}from"./search-D0jHYLql.js";import{B as Je}from"./badge-BUdM99C2.js";import{S as Xe}from"./separator-DJLzSABf.js";import{F as Ye}from"./filter-DpGBqr_M.js";import{C as Ze}from"./check-DLiLETgU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=We("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);var he=1,_e=.9,et=.8,tt=.17,Q=.1,_=.999,rt=.9999,lt=.99,nt=/[\\\/_+.#"@\[\(\{&]/,at=/[\\\/_+.#"@\[\(\{&]/g,it=/[\s-]/,ye=/[\s-]/g;function te(e,l,t,m,i,u,d){if(u===l.length)return i===e.length?he:lt;var v=`${i},${u}`;if(d[v]!==void 0)return d[v];for(var g=m.charAt(u),f=t.indexOf(g,i),o=0,h,j,S,R;f>=0;)h=te(e,l,t,m,f+1,u+1,d),h>o&&(f===i?h*=he:nt.test(e.charAt(f-1))?(h*=et,S=e.slice(i,f-1).match(at),S&&i>0&&(h*=Math.pow(_,S.length))):it.test(e.charAt(f-1))?(h*=_e,R=e.slice(i,f-1).match(ye),R&&i>0&&(h*=Math.pow(_,R.length))):(h*=tt,i>0&&(h*=Math.pow(_,f-i))),e.charAt(f)!==l.charAt(u)&&(h*=rt)),(h<Q&&t.charAt(f-1)===m.charAt(u+1)||m.charAt(u+1)===m.charAt(u)&&t.charAt(f-1)!==m.charAt(u))&&(j=te(e,l,t,m,f+1,u+2,d),j*Q>h&&(h=j*Q)),h>o&&(o=h),f=t.indexOf(g,f+1);return d[v]=o,o}function ge(e){return e.toLowerCase().replace(ye," ")}function ot(e,l,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,te(e,l,ge(e),ge(l),0,0,{})}var B='[cmdk-group=""]',ee='[cmdk-group-items=""]',ut='[cmdk-group-heading=""]',ae='[cmdk-item=""]',xe=`${ae}:not([aria-disabled="true"])`,re="cmdk-item-select",M="data-value",st=(e,l,t)=>ot(e,l,t),we=n.createContext(void 0),G=()=>n.useContext(we),Se=n.createContext(void 0),ie=()=>n.useContext(Se),ke=n.createContext(void 0),je=n.forwardRef((e,l)=>{let t=D(()=>{var r,s;return{search:"",value:(s=(r=e.value)!=null?r:e.defaultValue)!=null?s:"",filtered:{count:0,items:new Map,groups:new Set}}}),m=D(()=>new Set),i=D(()=>new Map),u=D(()=>new Map),d=D(()=>new Set),v=Ee(e),{label:g,children:f,value:o,onValueChange:h,filter:j,shouldFilter:S,loop:R,disablePointerSelection:b=!1,vimBindings:C=!0,...H}=e,oe=L(),ue=L(),se=L(),A=n.useRef(null),w=yt();F(()=>{if(o!==void 0){let r=o.trim();t.current.value=r,E.emit()}},[o]),F(()=>{w(6,de)},[]);let E=n.useMemo(()=>({subscribe:r=>(d.current.add(r),()=>d.current.delete(r)),snapshot:()=>t.current,setState:(r,s,p)=>{var a,x,y;if(!Object.is(t.current[r],s)){if(t.current[r]=s,r==="search")X(),W(),w(1,J);else if(r==="value"&&(p||w(5,de),((a=v.current)==null?void 0:a.value)!==void 0)){let N=s??"";(y=(x=v.current).onValueChange)==null||y.call(x,N);return}E.emit()}},emit:()=>{d.current.forEach(r=>r())}}),[]),T=n.useMemo(()=>({value:(r,s,p)=>{var a;s!==((a=u.current.get(r))==null?void 0:a.value)&&(u.current.set(r,{value:s,keywords:p}),t.current.filtered.items.set(r,ce(s,p)),w(2,()=>{W(),E.emit()}))},item:(r,s)=>(m.current.add(r),s&&(i.current.has(s)?i.current.get(s).add(r):i.current.set(s,new Set([r]))),w(3,()=>{X(),W(),t.current.value||J(),E.emit()}),()=>{u.current.delete(r),m.current.delete(r),t.current.filtered.items.delete(r);let p=K();w(4,()=>{X(),(p==null?void 0:p.getAttribute("id"))===r&&J(),E.emit()})}),group:r=>(i.current.has(r)||i.current.set(r,new Set),()=>{u.current.delete(r),i.current.delete(r)}),filter:()=>v.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>v.current.disablePointerSelection,listId:oe,inputId:se,labelId:ue,listInnerRef:A}),[]);function ce(r,s){var p,a;let x=(a=(p=v.current)==null?void 0:p.filter)!=null?a:st;return r?x(r,t.current.search,s):0}function W(){if(!t.current.search||v.current.shouldFilter===!1)return;let r=t.current.filtered.items,s=[];t.current.filtered.groups.forEach(a=>{let x=i.current.get(a),y=0;x.forEach(N=>{let $=r.get(N);y=Math.max($,y)}),s.push([a,y])});let p=A.current;q().sort((a,x)=>{var y,N;let $=a.getAttribute("id"),z=x.getAttribute("id");return((y=r.get(z))!=null?y:0)-((N=r.get($))!=null?N:0)}).forEach(a=>{let x=a.closest(ee);x?x.appendChild(a.parentElement===x?a:a.closest(`${ee} > *`)):p.appendChild(a.parentElement===p?a:a.closest(`${ee} > *`))}),s.sort((a,x)=>x[1]-a[1]).forEach(a=>{var x;let y=(x=A.current)==null?void 0:x.querySelector(`${B}[${M}="${encodeURIComponent(a[0])}"]`);y==null||y.parentElement.appendChild(y)})}function J(){let r=q().find(p=>p.getAttribute("aria-disabled")!=="true"),s=r==null?void 0:r.getAttribute(M);E.setState("value",s||void 0)}function X(){var r,s,p,a;if(!t.current.search||v.current.shouldFilter===!1){t.current.filtered.count=m.current.size;return}t.current.filtered.groups=new Set;let x=0;for(let y of m.current){let N=(s=(r=u.current.get(y))==null?void 0:r.value)!=null?s:"",$=(a=(p=u.current.get(y))==null?void 0:p.keywords)!=null?a:[],z=ce(N,$);t.current.filtered.items.set(y,z),z>0&&x++}for(let[y,N]of i.current)for(let $ of N)if(t.current.filtered.items.get($)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=x}function de(){var r,s,p;let a=K();a&&(((r=a.parentElement)==null?void 0:r.firstChild)===a&&((p=(s=a.closest(B))==null?void 0:s.querySelector(ut))==null||p.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function K(){var r;return(r=A.current)==null?void 0:r.querySelector(`${ae}[aria-selected="true"]`)}function q(){var r;return Array.from(((r=A.current)==null?void 0:r.querySelectorAll(xe))||[])}function Y(r){let s=q()[r];s&&E.setState("value",s.getAttribute(M))}function Z(r){var s;let p=K(),a=q(),x=a.findIndex(N=>N===p),y=a[x+r];(s=v.current)!=null&&s.loop&&(y=x+r<0?a[a.length-1]:x+r===a.length?a[0]:a[x+r]),y&&E.setState("value",y.getAttribute(M))}function me(r){let s=K(),p=s==null?void 0:s.closest(B),a;for(;p&&!a;)p=r>0?xt(p,B):bt(p,B),a=p==null?void 0:p.querySelector(xe);a?E.setState("value",a.getAttribute(M)):Z(r)}let fe=()=>Y(q().length-1),pe=r=>{r.preventDefault(),r.metaKey?fe():r.altKey?me(1):Z(1)},ve=r=>{r.preventDefault(),r.metaKey?Y(0):r.altKey?me(-1):Z(-1)};return n.createElement(I.div,{ref:l,tabIndex:-1,...H,"cmdk-root":"",onKeyDown:r=>{var s;if((s=H.onKeyDown)==null||s.call(H,r),!r.defaultPrevented)switch(r.key){case"n":case"j":{C&&r.ctrlKey&&pe(r);break}case"ArrowDown":{pe(r);break}case"p":case"k":{C&&r.ctrlKey&&ve(r);break}case"ArrowUp":{ve(r);break}case"Home":{r.preventDefault(),Y(0);break}case"End":{r.preventDefault(),fe();break}case"Enter":if(!r.nativeEvent.isComposing&&r.keyCode!==229){r.preventDefault();let p=K();if(p){let a=new Event(re);p.dispatchEvent(a)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:St},g),U(e,r=>n.createElement(Se.Provider,{value:E},n.createElement(we.Provider,{value:T},r))))}),ct=n.forwardRef((e,l)=>{var t,m;let i=L(),u=n.useRef(null),d=n.useContext(ke),v=G(),g=Ee(e),f=(m=(t=g.current)==null?void 0:t.forceMount)!=null?m:d==null?void 0:d.forceMount;F(()=>{if(!f)return v.item(i,d==null?void 0:d.id)},[f]);let o=Ce(i,u,[e.value,e.children,u],e.keywords),h=ie(),j=P(w=>w.value&&w.value===o.current),S=P(w=>f||v.filter()===!1?!0:w.search?w.filtered.items.get(i)>0:!0);n.useEffect(()=>{let w=u.current;if(!(!w||e.disabled))return w.addEventListener(re,R),()=>w.removeEventListener(re,R)},[S,e.onSelect,e.disabled]);function R(){var w,E;b(),(E=(w=g.current).onSelect)==null||E.call(w,o.current)}function b(){h.setState("value",o.current,!0)}if(!S)return null;let{disabled:C,value:H,onSelect:oe,forceMount:ue,keywords:se,...A}=e;return n.createElement(I.div,{ref:O([u,l]),...A,id:i,"cmdk-item":"",role:"option","aria-disabled":!!C,"aria-selected":!!j,"data-disabled":!!C,"data-selected":!!j,onPointerMove:C||v.getDisablePointerSelection()?void 0:b,onClick:C?void 0:R},e.children)}),dt=n.forwardRef((e,l)=>{let{heading:t,children:m,forceMount:i,...u}=e,d=L(),v=n.useRef(null),g=n.useRef(null),f=L(),o=G(),h=P(S=>i||o.filter()===!1?!0:S.search?S.filtered.groups.has(d):!0);F(()=>o.group(d),[]),Ce(d,v,[e.value,e.heading,g]);let j=n.useMemo(()=>({id:d,forceMount:i}),[i]);return n.createElement(I.div,{ref:O([v,l]),...u,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},t&&n.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),U(e,S=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},n.createElement(ke.Provider,{value:j},S))))}),mt=n.forwardRef((e,l)=>{let{alwaysRender:t,...m}=e,i=n.useRef(null),u=P(d=>!d.search);return!t&&!u?null:n.createElement(I.div,{ref:O([i,l]),...m,"cmdk-separator":"",role:"separator"})}),ft=n.forwardRef((e,l)=>{let{onValueChange:t,...m}=e,i=e.value!=null,u=ie(),d=P(o=>o.search),v=P(o=>o.value),g=G(),f=n.useMemo(()=>{var o;let h=(o=g.listInnerRef.current)==null?void 0:o.querySelector(`${ae}[${M}="${encodeURIComponent(v)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return n.useEffect(()=>{e.value!=null&&u.setState("search",e.value)},[e.value]),n.createElement(I.input,{ref:l,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":f,id:g.inputId,type:"text",value:i?e.value:d,onChange:o=>{i||u.setState("search",o.target.value),t==null||t(o.target.value)}})}),pt=n.forwardRef((e,l)=>{let{children:t,label:m="Suggestions",...i}=e,u=n.useRef(null),d=n.useRef(null),v=G();return n.useEffect(()=>{if(d.current&&u.current){let g=d.current,f=u.current,o,h=new ResizeObserver(()=>{o=requestAnimationFrame(()=>{let j=g.offsetHeight;f.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return h.observe(g),()=>{cancelAnimationFrame(o),h.unobserve(g)}}},[]),n.createElement(I.div,{ref:O([u,l]),...i,"cmdk-list":"",role:"listbox","aria-label":m,id:v.listId},U(e,g=>n.createElement("div",{ref:O([d,v.listInnerRef]),"cmdk-list-sizer":""},g)))}),vt=n.forwardRef((e,l)=>{let{open:t,onOpenChange:m,overlayClassName:i,contentClassName:u,container:d,...v}=e;return n.createElement(He,{open:t,onOpenChange:m},n.createElement(ze,{container:d},n.createElement(Ue,{"cmdk-overlay":"",className:i}),n.createElement(Te,{"aria-label":e.label,"cmdk-dialog":"",className:u},n.createElement(je,{ref:l,...v}))))}),ht=n.forwardRef((e,l)=>P(t=>t.filtered.count===0)?n.createElement(I.div,{ref:l,...e,"cmdk-empty":"",role:"presentation"}):null),gt=n.forwardRef((e,l)=>{let{progress:t,children:m,label:i="Loading...",...u}=e;return n.createElement(I.div,{ref:l,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},U(e,d=>n.createElement("div",{"aria-hidden":!0},d)))}),k=Object.assign(je,{List:pt,Item:ct,Input:ft,Group:dt,Separator:mt,Dialog:vt,Empty:ht,Loading:gt});function xt(e,l){let t=e.nextElementSibling;for(;t;){if(t.matches(l))return t;t=t.nextElementSibling}}function bt(e,l){let t=e.previousElementSibling;for(;t;){if(t.matches(l))return t;t=t.previousElementSibling}}function Ee(e){let l=n.useRef(e);return F(()=>{l.current=e}),l}var F=typeof window>"u"?n.useEffect:n.useLayoutEffect;function D(e){let l=n.useRef();return l.current===void 0&&(l.current=e()),l}function O(e){return l=>{e.forEach(t=>{typeof t=="function"?t(l):t!=null&&(t.current=l)})}}function P(e){let l=ie(),t=()=>e(l.snapshot());return $e.useSyncExternalStore(l.subscribe,t,t)}function Ce(e,l,t,m=[]){let i=n.useRef(),u=G();return F(()=>{var d;let v=(()=>{var f;for(let o of t){if(typeof o=="string")return o.trim();if(typeof o=="object"&&"current"in o)return o.current?(f=o.current.textContent)==null?void 0:f.trim():i.current}})(),g=m.map(f=>f.trim());u.value(e,v,g),(d=l.current)==null||d.setAttribute(M,v),i.current=v}),i}var yt=()=>{let[e,l]=n.useState(),t=D(()=>new Map);return F(()=>{t.current.forEach(m=>m()),t.current=new Map},[e]),(m,i)=>{t.current.set(m,i),l({})}};function wt(e){let l=e.type;return typeof l=="function"?l(e.props):"render"in l?l.render(e.props):e}function U({asChild:e,children:l},t){return e&&n.isValidElement(l)?n.cloneElement(wt(l),{ref:l.ref},t(l.props.children)):t(l)}var St={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ne=n.forwardRef(({className:e,...l},t)=>c.jsx(k,{ref:t,className:V("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...l}));Ne.displayName=k.displayName;const Re=n.forwardRef(({className:e,...l},t)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(be,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(k.Input,{ref:t,className:V("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...l})]}));Re.displayName=k.Input.displayName;const Ie=n.forwardRef(({className:e,...l},t)=>c.jsx(k.List,{ref:t,className:V("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...l}));Ie.displayName=k.List.displayName;const Ae=n.forwardRef((e,l)=>c.jsx(k.Empty,{ref:l,className:"py-6 text-center text-sm",...e}));Ae.displayName=k.Empty.displayName;const le=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Group,{ref:t,className:V("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...l}));le.displayName=k.Group.displayName;const kt=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Separator,{ref:t,className:V("-mx-1 h-px bg-border",e),...l}));kt.displayName=k.Separator.displayName;const ne=n.forwardRef(({className:e,...l},t)=>c.jsx(k.Item,{ref:t,className:V("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...l}));ne.displayName=k.Item.displayName;function Vt({searchQuery:e,setSearchQuery:l,searchValue:t,onSearchValueChange:m,statusOptions:i,selectedStatus:u,onStatusChange:d,activeFilter:v,setActiveFilter:g,tags:f,selectedTags:o,onTagsChange:h}){const j=b=>{o.includes(b)?h(o.filter(C=>C!==b)):h([...o,b])},S=e??t??"",R=b=>{l?l(b):m&&m(b)};return c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(Me,{placeholder:"Search...",value:S,onChange:b=>R(b.target.value),className:"pl-9"})]}),c.jsxs(Fe,{value:u===null?"all":u,onValueChange:b=>d(b==="all"?null:b),children:[c.jsx(Pe,{className:"w-full md:w-[180px]",children:c.jsx(De,{placeholder:"Status"})}),c.jsx(Le,{children:i.map(b=>c.jsx(Ve,{value:b.value??"all",children:b.label},b.value??"all"))})]}),c.jsxs(Ke,{children:[c.jsx(qe,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",className:"w-full md:w-[180px] justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Qe,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Tags"}),o.length>0&&c.jsx(Je,{variant:"secondary",className:"ml-2 px-1 font-normal",children:o.length})]}),c.jsx(Ye,{className:"ml-2 h-4 w-4 opacity-50"})]})}),c.jsx(Be,{className:"w-[200px] p-0",align:"end",children:c.jsxs(Ne,{children:[c.jsx(Re,{placeholder:"Search tags..."}),c.jsxs(Ie,{children:[c.jsx(Ae,{children:"No tags found."}),c.jsx(le,{children:c.jsx(Oe,{className:"h-[200px]",children:f.map(b=>{const C=o.includes(b.id);return c.jsxs(ne,{onSelect:()=>j(b.id),className:"flex items-center gap-2",children:[c.jsx("div",{className:`flex h-4 w-4 items-center justify-center rounded-sm border ${C?"border-primary bg-primary text-primary-foreground":"border-muted opacity-50"}`,children:C&&c.jsx(Ze,{className:"h-3 w-3"})}),c.jsx("span",{children:b.name})]},b.id)})})}),c.jsx(Xe,{}),c.jsx(le,{children:c.jsx(ne,{onSelect:()=>h([]),className:"justify-center text-center",children:"Clear filters"})})]})]})})]})]})}export{Vt as F};
