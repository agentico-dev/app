import{u as c,j as e,L as u}from"./react-vendor-pyaEZ1K4.js";import{C as g,a as x,b as h,c as f,d as j,e as v}from"./card-ByfXnz1U.js";import{B as o}from"./badge-BUdM99C2.js";import{B as w}from"./button-DgiK2e7X.js";import{e as b,X as N,t as i,s as y}from"./index-CcMg1OWm.js";import{S as C}from"./star-BAQKbNG7.js";import{T as p}from"./tag-CaTyM1z0.js";import{A as $}from"./app-window-Dn0yrFOX.js";import{C as _}from"./circuit-board-DfSKitmh.js";function k({application:s}){var n;const{removeTagFromResource:z}=b(),{data:t}=c({queryKey:["organization",s.organization_id],queryFn:async()=>{if(!s.organization_id)return null;const{data:r,error:a}=await y.from("organizations").select("slug").eq("id",s.organization_id).single();if(a)throw a;return r},enabled:!!s.organization_id&&!s.organization_slug}),l=r=>{switch(r.toLowerCase()){case"active":return"bg-green-500 hover:bg-green-600";case"development":return"bg-purple-500 hover:bg-purple-600";case"maintenance":return"bg-yellow-500 hover:bg-yellow-600";case"archived":return"bg-red-500 hover:bg-red-600";default:return"bg-slate-500 hover:bg-slate-600"}},d=async r=>{try{i({title:"Tag removed",description:`Tag "${r}" was removed from ${s.name}`})}catch(a){console.error("Error removing tag:",a),i({title:"Error",description:"Failed to remove tag",variant:"destructive"})}},m=()=>{if(s.slug){if(s.organization_slug)return`/apps/${s.organization_slug}@${s.slug}`;if(t!=null&&t.slug)return`/apps/${t.slug}@${s.slug}`}return`/applications/${s.id}`};return e.jsxs(g,{className:"overflow-hidden transition-all hover:shadow-md",children:[e.jsx(x,{className:"p-4 pb-0 flex justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(h,{className:"text-lg",children:s.name}),s.favorite&&e.jsx(C,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 ml-2"})]}),e.jsx(f,{className:"mt-1",children:((n=s.description)==null?void 0:n.length)>150?`${s.description.slice(0,150)}...`:s.description})]})}),e.jsxs(j,{className:"p-4 pt-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs(o,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),s.category]}),s.tags.map(r=>e.jsxs(o,{variant:"secondary",className:"text-xs flex items-center gap-1 group",children:[r,e.jsx("button",{onClick:()=>d(r),className:"opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${r} tag`,children:e.jsx(N,{className:"h-3 w-3"})})]},r))]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[s.endpoints_count," endpoints"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[s.tools_count," AI tools"]})]})]})]}),e.jsxs(v,{className:"p-4 pt-0 flex justify-between",children:[e.jsx(o,{className:`${l(s.status)} text-white`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),e.jsx(w,{asChild:!0,children:e.jsx(u,{to:m(),children:"View API"})})]})]})}export{k as A};
