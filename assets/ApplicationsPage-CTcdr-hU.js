import{j as e}from"./ui-components-TzlODp5W.js";import{L as y,r as w}from"./react-vendor-h7CPgmbB.js";import{u as C}from"./data-management-D5n4p4qF.js";import{B as u}from"./button-BQg0x-Iw.js";import{T,a as A,b as x,c as f}from"./tabs-erqnU2yi.js";import{c as S,b as _,X as I,t as g}from"./index-qFUq4l6H.js";import{I as k}from"./input-C8U_9rf6.js";import{S as P,D as F,a as L,b as M,c as N,d as b,e as d}from"./dropdown-menu-DZ8hUSBs.js";import{F as D,S as Z}from"./star-DMZFy-lh.js";import{C as B,a as E,b as R,c as $,d as q,e as Q}from"./card-BSrBs7BE.js";import{B as h}from"./badge-HFADNs-e.js";import{A as U}from"./app-window-DEkBu4Db.js";import{C as V}from"./circuit-board-Cvj-IcmO.js";import{P as H}from"./plus-Df83wSn8.js";import"./charts-Bb7PsyAr.js";import"./check-Cklpey2q.js";import"./circle-CchLunSy.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=S("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function z({searchQuery:t,setSearchQuery:o,activeFilter:r,setActiveFilter:n,applications:a}){return e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(P,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(k,{type:"search",placeholder:"Search applications...",className:"pl-8 w-full md:max-w-xs",value:t,onChange:s=>o(s.target.value)})]}),e.jsxs(F,{children:[e.jsx(L,{asChild:!0,children:e.jsxs(u,{variant:"outline",className:"ml-auto",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Filter"]})}),e.jsxs(M,{align:"end",children:[e.jsx(N,{children:"Filter by"}),e.jsx(b,{}),e.jsx(d,{onClick:()=>n(null),children:"All Applications"}),e.jsx(d,{onClick:()=>n("favorite"),children:"Favorites"}),e.jsx(d,{onClick:()=>n("active"),children:"Active"}),e.jsx(b,{}),e.jsx(N,{children:"Categories"}),[...new Set(a.map(s=>s.category))].map(s=>e.jsx(d,{onClick:()=>n(s),children:s},s))]})]})]})}function K({application:t}){const{removeTagFromResource:o}=_(),r=a=>{switch(a.toLowerCase()){case"active":return"bg-green-500 hover:bg-green-600";case"development":return"bg-purple-500 hover:bg-purple-600";case"maintenance":return"bg-yellow-500 hover:bg-yellow-600";case"archived":return"bg-red-500 hover:bg-red-600";default:return"bg-slate-500 hover:bg-slate-600"}},n=async a=>{try{g({title:"Tag removed",description:`Tag "${a}" was removed from ${t.name}`})}catch(s){console.error("Error removing tag:",s),g({title:"Error",description:"Failed to remove tag",variant:"destructive"})}};return e.jsxs(B,{className:"overflow-hidden transition-all hover:shadow-md",children:[e.jsx(E,{className:"p-4 pb-0 flex justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-lg",children:t.name}),t.favorite&&e.jsx(Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400 ml-2"})]}),e.jsx($,{className:"mt-1",children:t.description})]})}),e.jsxs(q,{className:"p-4 pt-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs(h,{variant:"outline",className:"text-xs flex items-center gap-1",children:[e.jsx(W,{className:"h-3 w-3"}),t.category]}),t.tags.map(a=>e.jsxs(h,{variant:"secondary",className:"text-xs flex items-center gap-1 group",children:[a,e.jsx("button",{onClick:()=>n(a),className:"opacity-0 group-hover:opacity-100 transition-opacity","aria-label":`Remove ${a} tag`,children:e.jsx(I,{className:"h-3 w-3"})})]},a))]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(U,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[t.endpoints_count," endpoints"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsxs("span",{children:[t.tools_count," AI tools"]})]})]})]}),e.jsxs(Q,{className:"p-4 pt-0 flex justify-between",children:[e.jsx(h,{className:`${r(t.status)} text-white`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),e.jsx(u,{asChild:!0,children:e.jsx(y,{to:`/applications/${t.id}`,children:"View API"})})]})]})}function m({type:t}){switch(t){case"loading":return e.jsx("div",{className:"flex justify-center p-8",children:e.jsx("p",{children:"Loading applications..."})});case"error":return e.jsx("div",{className:"flex justify-center p-8",children:e.jsx("p",{className:"text-red-500",children:"Failed to load applications"})});case"no-applications":return e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx("p",{className:"mb-4 text-muted-foreground",children:"No applications found"}),e.jsx(u,{asChild:!0,children:e.jsx(y,{to:"/applications/new",children:"Create your first application"})})]});case"no-favorites":return e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx("p",{className:"mb-4 text-muted-foreground",children:"No favorite applications found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mark applications as favorites to see them here"})]});default:return null}}function j({isLoading:t,error:o,applications:r,tabValue:n}){const a=n==="recent"?[...r].sort((s,l)=>new Date(l.updated_at).getTime()-new Date(s.updated_at).getTime()).slice(0,6):n==="favorites"?r.filter(s=>s.favorite):r;return t?e.jsx(m,{type:"loading"}):o?e.jsx(m,{type:"error"}):a.length===0?n==="favorites"?e.jsx(m,{type:"no-favorites"}):e.jsx(m,{type:"no-applications"}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(s=>e.jsx(K,{application:s},s.id))})}const v=[{id:"1",name:"Customer Portal API",description:"API for customer portal integration",category:"Web API",status:"active",favorite:!0,endpoints_count:24,tools_count:3,tags:["important","customer-facing"],created_at:"2023-06-15T10:30:00Z",updated_at:"2023-08-20T14:45:00Z"},{id:"2",name:"Payment Processing Service",description:"Service for handling payment processing",category:"Microservice",status:"development",favorite:!1,endpoints_count:8,tools_count:2,tags:["finance","security"],created_at:"2023-07-10T09:15:00Z",updated_at:"2023-08-18T11:20:00Z"},{id:"3",name:"Inventory Management System",description:"Inventory tracking and management API",category:"Internal API",status:"maintenance",favorite:!0,endpoints_count:16,tools_count:5,tags:["inventory","warehouse"],created_at:"2023-05-22T08:45:00Z",updated_at:"2023-08-15T16:30:00Z"}];function ue(){const[t,o]=w.useState(""),[r,n]=w.useState(null),{data:a=v,isLoading:s,error:l}=C({queryKey:["applications"],queryFn:async()=>{try{return v}catch(i){return console.error("Unexpected error fetching applications:",i),g({title:"Unexpected error",description:"Failed to load applications. Please try again later.",variant:"destructive"}),v}}}),p=a.filter(i=>{const c=i.name.toLowerCase().includes(t.toLowerCase())||i.description.toLowerCase().includes(t.toLowerCase());return r?r==="favorite"?c&&i.favorite:r==="active"?c&&i.status==="active":r==="category"?c&&i.category===r:c:c});return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Applications"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your external API interfaces and applications"})]}),e.jsx(u,{asChild:!0,children:e.jsxs(y,{to:"/applications/new",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"New Application"]})})]}),e.jsx(z,{searchQuery:t,setSearchQuery:o,activeFilter:r,setActiveFilter:n,applications:a}),e.jsxs(T,{defaultValue:"all",children:[e.jsxs(A,{children:[e.jsx(x,{value:"all",children:"All Applications"}),e.jsx(x,{value:"favorites",children:"Favorites"}),e.jsx(x,{value:"recent",children:"Recent"})]}),e.jsx(f,{value:"all",className:"mt-6",children:e.jsx(j,{isLoading:s,error:l,applications:p,tabValue:"all"})}),e.jsx(f,{value:"favorites",className:"mt-6",children:e.jsx(j,{isLoading:s,error:l,applications:p,tabValue:"favorites"})}),e.jsx(f,{value:"recent",className:"mt-6",children:e.jsx(j,{isLoading:s,error:l,applications:p,tabValue:"recent"})})]})]})}export{ue as ApplicationsPage,ue as default};
