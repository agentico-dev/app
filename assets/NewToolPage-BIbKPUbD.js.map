{"version":3,"file":"NewToolPage-BIbKPUbD.js","sources":["../../src/components/forms/CreateToolForm.tsx","../../src/pages/ai-tools/NewToolPage.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { \n  Form, \n  FormControl, \n  FormDescription, \n  FormField, \n  FormItem, \n  FormLabel, \n  FormMessage \n} from '@/components/ui/form';\nimport { useNavigate } from 'react-router';\nimport { toast } from 'sonner';\nimport { CreateToolPayload } from '@/types/organization';\nimport { useAuth } from '@/hooks/useAuth';\nimport { generateSlug } from '@/utils/supabaseHelpers';\nimport { supabase } from '@/integrations/supabase/client';\n\nexport function CreateToolForm() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const navigate = useNavigate();\n  const { session } = useAuth();\n  \n  const form = useForm<CreateToolPayload>({\n    defaultValues: {\n      name: '',\n      description: '',\n      category: 'AI',\n      status: 'Development',\n      tags: [],\n    },\n  });\n\n  // Load the selected organization from localStorage\n  useEffect(() => {\n    const savedOrgId = localStorage.getItem('selectedOrganizationId');\n    if (savedOrgId) {\n      form.setValue('organization_id', savedOrgId);\n    }\n  }, [form]);\n\n  const onSubmit = async (data: CreateToolPayload) => {\n    if (!session.user) {\n      toast.error(\"You need to be logged in to create an AI tool\");\n      return;\n    }\n    \n    // Get organization from localStorage\n    const organizationId = localStorage.getItem('selectedOrganizationId');\n    \n    if (!organizationId) {\n      toast.error(\"Please select an organization from the top navigation bar\");\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      // Generate slug from name\n      const slug = generateSlug(data.name);\n      \n      const { error } = await supabase\n        .from('ai_tools')\n        .insert({\n          name: data.name,\n          slug: slug,\n          description: data.description,\n          category: data.category,\n          status: data.status,\n          tags: data.tags,\n          user_id: session.user.id,\n          organization_id: organizationId,\n        });\n\n      if (error) throw error;\n      \n      toast.success('AI Tool created successfully');\n      navigate('/ai-tools');\n    } catch (error: any) {\n      console.error('Error creating AI tool:', error);\n      toast.error('Failed to create AI tool');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <FormField\n          control={form.control}\n          name=\"name\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Tool Name</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Enter AI tool name\" {...field} />\n              </FormControl>\n              <FormDescription>\n                The name of your AI tool.\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Description</FormLabel>\n              <FormControl>\n                <Textarea \n                  placeholder=\"Describe your AI tool\" \n                  className=\"min-h-[120px]\" \n                  {...field} \n                />\n              </FormControl>\n              <FormDescription>\n                A brief description of what this AI tool does.\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <FormField\n          control={form.control}\n          name=\"category\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Category</FormLabel>\n              <FormControl>\n                <Input placeholder=\"e.g., NLP, Computer Vision, ML\" {...field} />\n              </FormControl>\n              <FormDescription>\n                The category this AI tool belongs to.\n              </FormDescription>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        \n        <div className=\"flex justify-end space-x-4\">\n          <Button \n            type=\"button\" \n            variant=\"outline\" \n            onClick={() => navigate('/ai-tools')}\n          >\n            Cancel\n          </Button>\n          <Button \n            type=\"submit\" \n            disabled={isSubmitting}\n          >\n            {isSubmitting ? 'Creating...' : 'Create AI Tool'}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}\n\nexport default CreateToolForm;\n","\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ArrowLeft } from 'lucide-react';\nimport { Link } from 'react-router';\nimport CreateToolForm from '@/components/forms/CreateToolForm';\n\nexport default function NewToolPage() {\n  return (\n    <div className=\"container py-6 space-y-6\">\n      <Button variant=\"ghost\" asChild>\n        <Link to=\"/ai-tools\">\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to AI Tools\n        </Link>\n      </Button>\n      \n      <div>\n        <h1 className=\"text-3xl font-bold tracking-tight\">Create New AI Tool</h1>\n        <p className=\"text-muted-foreground\">\n          Set up a new AI tool for your projects\n        </p>\n      </div>\n      \n      <Card>\n        <CardHeader>\n          <CardTitle>AI Tool Details</CardTitle>\n          <CardDescription>\n            Fill in the details to create your new AI tool\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <CreateToolForm />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":["CreateToolForm","isSubmitting","setIsSubmitting","useState","navigate","useNavigate","session","useAuth","form","useForm","useEffect","savedOrgId","onSubmit","data","toast","organizationId","slug","generateSlug","error","supabase","jsx","Form","jsxs","FormField","field","FormItem","FormLabel","FormControl","Input","FormDescription","FormMessage","Textarea","Button","NewToolPage","Link","ArrowLeft","Card","CardHeader","CardTitle","CardDescription","CardContent"],"mappings":"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"}