import{j as e}from"./ui-components-TzlODp5W.js";import{L as D,r as p}from"./react-vendor-h7CPgmbB.js";import{S as t,f as T,u as A,D as L,a as S,b as B,c as P,d as F,e as I,g as U}from"./skeleton-BWMGFT66.js";import{T as E,a as q,b as u,c as j}from"./tabs-erqnU2yi.js";import{B as g}from"./button-BQg0x-Iw.js";import{I as f}from"./input-C8U_9rf6.js";import{L as m}from"./label-Ser6n7cE.js";import{c as w,u as H,d as R}from"./index-qFUq4l6H.js";import{T as V}from"./textarea-age5k_hR.js";import{C as h,a as y,d as N,e as b,b as Y,c as _}from"./card-BSrBs7BE.js";import{B as $}from"./badge-HFADNs-e.js";import{U as G}from"./users-r4KQHlz_.js";import{A as J,a as K,b as Q}from"./alert-CRQXG9BZ.js";import{P as W}from"./plus-Df83wSn8.js";import{S as X}from"./shield-Da3zlqBD.js";import"./en-US-F4bQRikB.js";import"./data-management-D5n4p4qF.js";import"./charts-Bb7PsyAr.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=w("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=w("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function v({organizations:i,isLoading:c}){return c?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsxs(y,{className:"p-4",children:[e.jsx(t,{className:"h-5 w-3/4"}),e.jsx(t,{className:"h-4 w-1/2 mt-2"})]}),e.jsxs(N,{className:"p-4",children:[e.jsx(t,{className:"h-4 w-full mb-2"}),e.jsx(t,{className:"h-4 w-3/4"})]}),e.jsxs(b,{className:"p-4 flex justify-between",children:[e.jsx(t,{className:"h-4 w-1/4"}),e.jsx(t,{className:"h-9 w-1/4"})]})]},s))}):i.length===0?e.jsxs(h,{className:"p-8 flex flex-col items-center justify-center",children:[e.jsx(Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No organizations found"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-4",children:i.length===0?"There are no organizations available yet. Create your first organization to get started.":"You're not a member of any organizations yet."})]}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:i.map(s=>e.jsxs(h,{className:"overflow-hidden",children:[e.jsxs(y,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{className:"text-lg",children:s.name}),s.role&&e.jsx($,{variant:"outline",className:"ml-2",children:s.role})]}),e.jsx(_,{className:"line-clamp-2",children:s.description||"No description available"})]}),e.jsx(N,{className:"p-4 pt-0",children:e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-2",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Created ",T(new Date(s.created_at),"MMM d, yyyy")]})}),e.jsxs(b,{className:"p-4 flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Members"})]}),e.jsx(g,{asChild:!0,children:e.jsx(D,{to:`/organizations/${s.slug}`,children:"View"})})]})]},s.id))})}function ye(){const{organizations:i,userOrganizations:c,isLoading:s,isAuthenticated:n,createOrganization:d}=A(),{session:z}=H(),{toast:C}=R(),[k,x]=p.useState(!1),[a,l]=p.useState({name:"",slug:"",description:""}),M=async r=>{if(r.preventDefault(),!z.user){C({title:"Authentication required",description:"Please sign in to create an organization.",variant:"destructive"});return}try{await d.mutateAsync(a),x(!1),l({name:"",slug:"",description:""})}catch(o){console.error("Error creating organization:",o)}},O=r=>{const o=r.target.value;l({...a,name:o,slug:o.toLowerCase().replace(/\s+/g,"-")})};return e.jsxs("div",{className:"container py-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Organizations"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your organizations, teams and projects."})]}),e.jsxs(L,{open:k,onOpenChange:x,children:[e.jsx(S,{asChild:!0,children:e.jsxs(g,{disabled:!n,children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"New Organization"]})}),e.jsxs(B,{children:[e.jsxs(P,{children:[e.jsx(F,{children:"Create new organization"}),e.jsx(I,{children:"Add a new organization to manage teams, projects, and billing."})]}),e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"name",children:"Name"}),e.jsx(f,{id:"name",value:a.name,onChange:O,placeholder:"Acme Inc.",required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"slug",children:"Slug"}),e.jsx(f,{id:"slug",value:a.slug,onChange:r=>l({...a,slug:r.target.value}),placeholder:"acme-inc"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Used in URLs: agentico.com/org/",a.slug||"your-slug"]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(V,{id:"description",value:a.description,onChange:r=>l({...a,description:r.target.value}),placeholder:"A short description of your organization"})]})]}),e.jsx(U,{children:e.jsx(g,{type:"submit",disabled:d.isPending,children:d.isPending?"Creating...":"Create Organization"})})]})]})]})]}),!n&&e.jsxs(J,{variant:"default",className:"bg-amber-50 border-amber-200",children:[e.jsx(X,{className:"h-4 w-4 text-amber-500"}),e.jsx(K,{children:"Limited Access Mode"}),e.jsx(Q,{children:"You're browsing in read-only mode. Sign in to create or manage organizations."})]}),e.jsxs(E,{defaultValue:"all",className:"space-y-4",children:[e.jsxs(q,{children:[e.jsx(u,{value:"all",children:"All Organizations"}),n&&e.jsx(u,{value:"my-orgs",children:"My Organizations"})]}),e.jsx(j,{value:"all",className:"space-y-4",children:e.jsx(v,{organizations:i||[],isLoading:s})}),n&&e.jsx(j,{value:"my-orgs",className:"space-y-4",children:e.jsx(v,{organizations:c||[],isLoading:s})})]})]})}export{ye as default};
